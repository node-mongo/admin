(function(e){function t(t){for(var a,r,i=t[0],c=t[1],l=t[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,i=1;i<s.length;i++){var c=s[i];0!==o[c]&&(a=!1)}a&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var a={},o={app:0},n=[];function r(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=a,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(s,a,function(t){return e[t]}.bind(null,a));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"00f5":function(e,t,s){},"066a":function(e,t,s){},"0b01":function(e,t,s){"use strict";s("99e3")},"113b":function(e,t,s){"use strict";s("4793")},1820:function(e,t,s){"use strict";s("dbed")},"1c90":function(e,t,s){"use strict";s("406d")},"1dde":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{id:"language-modal"},on:{click:function(t){return e.closeDialogOutside(t)}}},[s("div",{staticClass:"language-box",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"language-label"},[s("h3",[s("span",{domProps:{textContent:e._s(e.showLanguage("lang","title"))}}),s("img",{attrs:{title:e.showLanguage("global","close"),alt:e.showLanguage("global","close"),src:"/img/close-icon-white.svg"},on:{click:function(t){return e.closeThisDialog()}}})])]),s("div",{staticClass:"language-content"},[s("div",{staticClass:"large-11 medium-11 small-12"},[s("p",{staticClass:"text-info",domProps:{textContent:e._s(e.showLanguage("lang","intro"))}}),s("hr"),s("p",{staticClass:"location"},[s("strong",{staticClass:"title",domProps:{textContent:e._s(e.showLanguage("lang","yourCountry"))}}),e._v(" "),s("span",{staticClass:"data"},[e._v(e._s(e.location.country_name))])]),s("p",{staticClass:"location"},[s("strong",{staticClass:"title",domProps:{textContent:e._s(e.showLanguage("lang","yourState"))}}),e._v(" "),s("span",{staticClass:"data"},[e._v(e._s(e.location.region))])]),s("p",{staticClass:"location"},[s("strong",{staticClass:"title",domProps:{textContent:e._s(e.showLanguage("lang","yourCity"))}}),e._v(" "),s("span",{staticClass:"data"},[e._v(e._s(e.location.city))])]),s("p",{staticClass:"location"},[s("strong",{staticClass:"title",domProps:{textContent:e._s(e.showLanguage("lang","yourPostcode"))}}),e._v(" "),s("span",{staticClass:"data"},[e._v(e._s(e.location.postal))])]),s("p",{staticClass:"location"},[s("strong",{staticClass:"title",domProps:{textContent:e._s(e.showLanguage("lang","yourIP"))}}),e._v(" "),s("span",{staticClass:"data"},[e._v(e._s(e.location.ip))])]),s("hr"),s("p",{staticClass:"text-info",domProps:{textContent:e._s(e.showLanguage("lang","intro2"))}}),s("p",[s("strong",{staticClass:"title",domProps:{textContent:e._s(e.showLanguage("lang","yourLanguage"))}}),e._v(" "),s("span",{staticClass:"data"},[e._v(e._s(e.currentLanguageText))])]),s("span",{staticClass:"button primary languageSelector",domProps:{textContent:e._s(e.showLanguage("lang","changeLanguage"))},on:{click:function(t){return e.showLanguageSelector()}}}),s("ul",{ref:"languageSelection",staticClass:"hidden",attrs:{id:"languageSelection"}},[s("li",{class:e.getCurrentClass("en"),on:{click:function(t){return e.setSelectedLanguage("en")}}},[s("span",{staticClass:"float-left",domProps:{textContent:e._s(e.showLanguage("lang","english"))}}),e._v(" "),s("img",{attrs:{alt:e.showLanguage("lang","english"),src:"/img/flags/au.gif"}})]),s("li",{class:e.getCurrentClass("zh"),on:{click:function(t){return e.setSelectedLanguage("zh")}}},[s("span",{staticClass:"float-left",domProps:{textContent:e._s(e.showLanguage("lang","chinese"))}}),e._v(" "),s("img",{attrs:{alt:e.showLanguage("lang","chinese"),src:"/img/flags/cn.gif"}})])])])]),s("div",{staticClass:"language-buttons"},[s("button",{staticClass:"button warning float-right",attrs:{type:"button"},domProps:{textContent:e._s(e.showLanguage("global","close"))},on:{click:function(t){return e.closeThisDialog()}}})])])])},o=[],n=s("81f6"),r=s("db49"),i={data:function(){return{show:!1,language:"en",currentLanguage:"en",currentLanguageText:r["a"].LANGUAGES["en"],location:{},currentLocation:{}}},mounted:function(){var e=this;this.currentLanguage=this.$store.getters.getLanguage,n["a"].$on("show-language-selector",(function(){e.location=e.$store.getters.getLocation,e.currentLocation=e.$store.getters.getCurrentLocation,e.show=!0}))},computed:{showPopOut:function(){return this.show},displayLanguage:function(){return this.showPopOut},user:function(){return this.$store.getters.getUser},userLoadStatus:function(){return this.$store.getters.getUserLoadStatus},currentLanguageValue:function(){return this.currentLanguage}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},closeDialogOutside:function(e){window.jquery(e.target).is("#login-modal")&&this.closeThisDialog()},getCurrentClass:function(e){return e===this.currentLanguage?"active":""},getCurrentLanguage:function(){this.currentLanguage=this.$store.getters.getCurrentActivePage},showLanguageSelector:function(){this.$jqf(this.$refs.languageSelection).toggle("hidden")},setSelectedLanguage:function(e){this.$store.dispatch("setLanguage",e),this.currentLanguage=e},getCurrentLocation:function(){this.currentLocation=this.$store.getters.getCurrentLocation},getLocation:function(){this.location=this.$store.getters.getLocation},closeThisDialog:function(){this.show=!1}},watch:{currentLanguageValue:function(){this.currentLanguageText=r["a"].LANGUAGES[this.currentLanguage]}}},c=i,l=(s("5a1b"),s("0c7c")),u=Object(l["a"])(c,a,o,!1,null,null,null);t["a"]=u.exports},"206d":function(e,t,s){"use strict";s("da24")},"22b5":function(e,t,s){"use strict";s("aacb")},"23e0":function(e,t,s){},"265b":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide-in-top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"error-notification-container"},[s("div",{staticClass:"error-notification"},[s("img",{attrs:{src:"/img/error.svg"}}),e._v(" "+e._s(e.errorMessage)+" ")])])])},o=[],n=s("81f6"),r={data:function(){return{errorMessage:"",show:!1}},mounted:function(){var e=this;n["a"].$on("show-error",(function(t){e.errorMessage=t.notification,e.show=!0,e.id=t;var s=t.timer?t.timer:5e3;setTimeout((function(){e.show=!1}),s)}))}},i=r,c=(s("f762"),s("0c7c")),l=Object(c["a"])(i,a,o,!1,null,null,null);t["a"]=l.exports},"26e5":function(e,t,s){"use strict";s("8457")},"28b4":function(e,t,s){"use strict";s("5817")},"2d90":function(e,t,s){},"2e8e":function(e,t,s){},"31d9":function(e,t,s){"use strict";s("7e1f")},3530:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"off-canvas-content main-content",attrs:{id:"main-page-content"}},[s("dbs-view"),s("top-view"),s("panel-view"),s("div",{staticStyle:{clear:"both"}})],1)},o=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"leftPane",staticClass:"pma-dbs-view align-left"},[s("div",{ref:"resizer",staticClass:"dbs-nav-resizer"}),s("div",{ref:"collapse",staticClass:"dbs-nav-collapse",on:{click:e.handleCollapse}},[e._v("←")]),s("dbs-top",{attrs:{collapsed:e.collapsed}}),s("article",{ref:"dbs",staticClass:"dbs-list-block-outer"},[s("div",{staticClass:"dbs-list-block"},[e.dbs?s("ul",{staticClass:"dbs-list"},e._l(e.dbs,(function(e){return s("dbs-card",{key:e.id+1,attrs:{db:e}})})),1):e._e(),e.databaseList?s("ul",{staticClass:"dbs-list"},e._l(e.databaseList,(function(e,t){return s("list-card",{key:t,attrs:{db:e}})})),1):e._e()])])],1)},r=[],i=(s("159b"),s("d81d"),s("81f6")),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:0==e.collapsed,expression:"collapsed == false"}],staticClass:"pma-dbs-top"},[s("div",{staticClass:"pma-logo text-center"},[s("img",{attrs:{src:"img/logo-nma.png",alt:{appTitle:e.appTitle}}})]),s("div",{staticClass:"pma-icons text-center"},[s("span",{staticClass:"pma-link",on:{click:function(t){return e.loadHome()}}},[s("img",{attrs:{src:"img/icon/pma-home.png"}}),e._v(" "),s("span",{domProps:{textContent:e._s(e.showLanguage("dbs","host"))}})]),s("span",{staticClass:"pma-link",on:{click:function(t){return e.loadOverview()}}},[s("img",{attrs:{src:"img/icon/pma-world.png"}}),e._v(" "),s("span",{domProps:{textContent:e._s(e.showLanguage("dbs","overview"))}})])])])},l=[],u=s("db49"),d={props:["collapsed"],data:function(){return{appTitle:u["a"].SITE_FULLNAME}},computed:{userLoadStatus:function(){return 2===this.$store.getters.getUserLoadStatus}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},loadHome:function(){i["a"].$emit("hide-collection-lists"),i["a"].$emit("close-collection-panels"),i["a"].$emit("hide-panels"),this.$store.dispatch("loadDatabases"),this.$store.dispatch("setActiveNav",null),i["a"].$emit("show-server"),i["a"].$emit("show-mongo")},loadOverview:function(){i["a"].$emit("close-collection-panels"),i["a"].$emit("hide-panels"),i["a"].$emit("show-databases"),this.$store.dispatch("setActiveNav","databases")}}},m=d,g=(s("6aa9"),s("0c7c")),h=Object(g["a"])(m,c,l,!1,null,null,null),p=h.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"db",staticClass:"db-inner"},[s("img",{attrs:{alt:"Database icon",src:"img/icon/database.png"}}),e._v(" "),s("span",{staticClass:"pma-link",on:{click:function(t){e.showCollectionsList(e.getDbName(e.db))}}},[e._v(e._s(e.getDbName(e.db)))]),e._v(" "+e._s(e.countCollections)+" "),s("ul",{ref:"coll",staticClass:"collections hide-list"},e._l(e.db.collections,(function(t){return s("collection-card",{key:t.id+1,attrs:{collection:t},on:{loadDbsCollection:e.loadDbsCollection}})})),1)])},v=[],C=(s("b0c0"),s("ac1f"),s("5319"),s("466d"),{methods:{processDbsTextFilter:function(e,t){return!(t.length>1)||!!e.name.toLowerCase().match("[^,]*"+t.toLowerCase()+"[,$]*")}}}),w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{ref:"colbox",staticClass:"collection-list-item"},[s("img",{attrs:{alt:"Collection icon",src:"img/icon/collection.png"}}),e._v(" "),s("span",{staticClass:"pma-link",on:{click:function(t){return e.$emit("loadDbsCollection",e.getName)}}},[e._v(e._s(e.getName))])])},b=[],S={props:["collection"],computed:{getName:function(){return this.collection.collection.name?this.collection.collection.name:this.collection.collection.collectionName},textSearch:function(){return this.$store.getters.getTextSearch}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},processFilters:function(){if(""===this.textSearch)this.show=!0;else{var e=!1;""!==this.textSearch&&this.processDbsTextFilter(this.db,this.textSearch)?e=!0:""===this.textSearch&&(e=!1),this.show=e}}},watch:{textSearch:function(){this.processFilters()}}},L=S,_=(s("0b01"),Object(g["a"])(L,w,b,!1,null,null,null)),y=_.exports,x={components:{CollectionCard:y},props:["db"],data:function(){return{show:!0,activeDb:null}},mixins:[C],computed:{countCollections:function(){return" ("+this.db.collections.length+")"},textSearch:function(){return this.$store.getters.getTextSearch}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},getDbName:function(e){return e.db.databaseName?(this.name=e.db.databaseName,e.db.databaseName):(e.db.name,this.name=e.db.name,e.db.name)},showCollectionsList:function(e){this.$store.dispatch("loadCachedDatabase",e),i["a"].$emit("hide-collection-lists",{}),this.activeDb=e,this.$jqf(this.$refs.coll).replace(["hide-list","active"])},hideCollections:function(){this.activeDb=null,this.$refs.coll&&this.$jqf(this.$refs.coll).replace(["active","hide-list"])},loadDbsCollection:function(e){this.$store.dispatch("setActiveDatabase",this.activeDb),this.$store.dispatch("setActiveCollection",e);var t={database:this.activeDb,collection:e};this.$store.dispatch("loadCollection",t),i["a"].$emit("hide-panels"),i["a"].$emit("show-collection",e)},processFilters:function(){if(""===this.textSearch)this.show=!0;else{var e=!1;""!==this.textSearch&&this.processDbsTextFilter(this.db,this.textSearch)?e=!0:""===this.textSearch&&(e=!1),this.show=e}}},mounted:function(){var e=this;i["a"].$on("hide-collection-lists",(function(){e.hideCollections()})),i["a"].$on("filters-updated",(function(t){e.processFilters(t)})),this.processFilters()},watch:{textSearch:function(){this.processFilters()}}},$=x,P=(s("a16a"),Object(g["a"])($,f,v,!1,null,null,null)),D=P.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"db",staticClass:"db-inner"},[s("img",{attrs:{alt:"Database icon",src:"img/icon/database.png"}}),s("span",{staticClass:"pma-link"},[e._v(e._s(e.getDbName(e.db)))]),s("br"),s("span",{staticClass:"db-data"},[e._v("Size: "+e._s(e.getSize(e.db))+" Empty: "+e._s(e.db.empty))])])},U=[],k={props:["db"],data:function(){return{show:!0}},mixins:[C],computed:{textSearch:function(){return this.$store.getters.getTextSearch}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},getDbName:function(e){return e.name},getSize:function(e){return this.$jqf().humanReadable(e.sizeOnDisk)},processFilters:function(){if(""===this.textSearch)this.show=!0;else{var e=!1;""!==this.textSearch&&this.processDbsTextFilter(this.db,this.textSearch)?e=!0:""===this.textSearch&&(e=!1),this.show=e}}},mounted:function(){var e=this;i["a"].$on("filters-updated",(function(t){e.processFilters(t)})),this.processFilters()},watch:{textSearch:function(){this.processFilters()}}},A=k,E=(s("74a3"),Object(g["a"])(A,N,U,!1,null,null,null)),T=E.exports,I={components:{DbsTop:p,DbsCard:D,ListCard:T},data:function(){return{collapsed:!1,databaseList:null,display:!1,index:0,user:{}}},computed:{dbs:function(){return this.$store.getters.getDatabases}},methods:{handleCollapse:function(){this.collapsed=!this.collapsed,!0===this.collapsed&&(this.$jqf(this.$refs.leftPane).css("width",0),this.$jqf(this.$refs.dbs).css("display","none"),this.$jqf(this.$refs.resizer).css("left",0),this.$jqf(this.$refs.collapse).css("left","5px"),this.$jqf(this.$refs.collapse).html("→"),i["a"].$emit("collapse-left-nav")),!1===this.collapsed&&(this.$jqf(this.$refs.leftPane).css("width","240px"),this.$jqf(this.$refs.dbs).css("display","block"),this.$jqf(this.$refs.resizer).css("left","240px"),this.$jqf(this.$refs.collapse).css("left","245px"),this.$jqf(this.$refs.collapse).html("←"),i["a"].$emit("expand-left-nav"))},getUser:function(){this.user=this.$store.getters.getUser},checkUserType:function(){if(!1===this.$store.getters.getCanUserReadDatabase){var e=this.user.user_role.roles,t=["userAdmin","userAdminAnyDatabase"],s=!1;e.forEach((function(e){t.map((function(t){t===e.role&&(s=!0)}))})),s&&this.getDatabaseList()}},getDatabaseList:function(){this.$store.dispatch("getDatabaseList"),this.handleDbList()},handleDbList:function(){var e=this,t=this.$store.getters.getDatabaseListLoadStatus;1===t&&this.index<25&&(this.index++,setTimeout((function(){e.handleDbList()}),100)),2===t&&(this.databaseList=this.$store.getters.getDatabaseList)}},mounted:function(){var e=this;setTimeout((function(){e.getUser(),e.checkUserType()}),500),i["a"].$on("change-list",(function(t){!0===t.show&&(e.display=!0),!0===t.hide&&(e.display=!1)}))}},M=I,R=(s("1c90"),Object(g["a"])(M,n,r,!1,null,null,null)),j=R.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"pmaTopPanel",staticClass:"pma-top-panel"},[s("top",{attrs:{error:e.error,user:e.user},on:{collapseNav:function(t){return e.collapseNav(t)},clearError:e.clearError}}),s("top-nav",{attrs:{collapsed:e.collapsed,user:e.user}})],1)},q=[],F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"top-nav-wrapper"},[s("nav",{staticClass:"top-navigation"},[s("ul",{staticClass:"links"},[s("li",{staticClass:"host-link text-left"},[s("img",{attrs:{src:"img/icon/servers.png"}}),e._v(" "),s("span",{staticClass:"pma-link",on:{click:function(t){return e.loadHome(t)}}},[e._v("Localhost")])]),null!==e.error?s("li",[s("span",{staticClass:"top-error",on:{click:function(t){return e.$emit("clearError")}}},[e._v(e._s(e.getError))]),s("span",{staticClass:"text-info pma-link",domProps:{textContent:e._s(e.showLanguage("nav","close"))},on:{click:function(t){return e.$emit("clearError")}}})]):e._e()]),s("ul",{staticClass:"links right"},[s("li",{directives:[{name:"show",rawName:"v-show",value:e.isMember,expression:"isMember"}]},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.userLoadStatus,expression:"userLoadStatus"}],staticClass:"pma-link",attrs:{title:e.showLanguage("title","navUsernameTitle")},on:{click:e.showRoles}},[e._v(" "+e._s(e.usersName)+" ")]),s("p",{staticClass:"roles-list"},e._l(e.rolesList,(function(t,a){return s("span",{key:a,staticClass:"role-item-wrapper",attrs:{role:t}},[s("span",{staticClass:"roles-item"},[e._v("Database: "+e._s(t.db)+", Role: "+e._s(t.role))])])})),0)]),e._m(0),s("li",[s("router-link",{attrs:{to:{name:"about"}}},[s("span",{staticClass:"pma-link",domProps:{textContent:e._s(e.showLanguage("nav","about"))}})])],1),e._m(1),s("li",{directives:[{name:"show",rawName:"v-show",value:e.isMember,expression:"isMember"}],staticClass:"member-button"},[s("span",{staticClass:"pma-link",attrs:{title:e.showLanguage("title","logoutTitle")},domProps:{textContent:e._s(e.showLanguage("nav","logout"))},on:{click:function(t){return e.runLogout(t)}}})]),s("li",{staticClass:"actions",on:{click:e.collapseNav}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"nav-collapse",attrs:{title:e.showLanguage("nav","collapse")}},[s("img",{attrs:{src:"img/sort-asc.svg",alt:"Collapse nav"}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"nav-collapse",attrs:{title:e.showLanguage("nav","expand")}},[s("img",{attrs:{src:"img/sort-desc.svg",alt:"Expand nav"}})])])])])])},B=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("span",{staticClass:"pma-link"},[e._v("|")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("span",{staticClass:"pma-link"},[e._v("|")])])}],H=s("a18c"),V={props:["user","error"],data:function(){return{collapsed:!1,countryName:null,isLoggedIn:null,rolesList:null,searchActive:null,showRolesList:!1,index:0}},computed:{userLoadStatus:function(){return 2===this.$store.getters.getUserLoadStatus},siteName:function(){return u["a"].SITE_NAME},hasCountryName:function(){return null!=this.countryName},setCountryName:function(){return this.countryName},isMember:function(){var e=this.$cookies.get("app-member");return e&&e.length>=3||this.userLoadStatus},usersName:function(){return this.user.name},getError:function(){return this.error.error?"Alert: "+this.error.error:this.error.message?"Alert: "+this.error.message:"Unhandled errors occurred"}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},collapseNav:function(){this.collapsed=!this.collapsed,this.$emit("collapseNav",this.collapsed)},getCountryNameValue:function(){this.countryName=this.$store.getters.getCountryName},loadHome:function(){i["a"].$emit("hide-collection-lists"),i["a"].$emit("hide-panels"),this.$store.dispatch("loadDatabases"),this.$store.dispatch("setActiveNav",null),i["a"].$emit("show-server"),i["a"].$emit("show-mongo")},runLogout:function(e){e.preventDefault();var t=this.$store.getters.getUserAuthStatus;this.$store.dispatch("logoutUser",{uid:t}),this.completeLogout(t)},completeLogout:function(e){var t=this,s=this.$store.getters.getUserLogoutStatus;1===s&&this.index<25&&(this.index++,setTimeout((function(){t.completeLogout(e)}),100)),2===s&&(i["a"].$emit("show-success",{notification:this.showLanguage("auth","logout-success")}),setTimeout((function(){H["a"].push({name:"public"})}),2e3),i["a"].$emit("user-logged-out",e)),3===s&&i["a"].$emit("show-error",{notification:"An unknown error has interrupted the logout process"})},showRoles:function(){this.showRolesList=!this.showRolesList,this.rolesList=this.showRolesList?this.$store.getters.getUserRoles:null},openLanguageSelector:function(){i["a"].$emit("show-language-selector")}}},G=V,K=(s("7764"),Object(g["a"])(G,F,B,!1,null,null,null)),J=K.exports,Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],ref:"navPanel",staticClass:"panel-navigation"},[s("div",{staticClass:"text-left"},[s("ul",{staticClass:"links"},[s("li",{class:{active:e.getActivePanel("databases")}},[s("span",{on:{click:function(t){return e.loadPanel("databases",t)}}},[s("img",{attrs:{src:"img/icon/databases.png"}}),e._v(" "),s("span",{attrs:{title:e.showLanguage("title","databasesTitle")},domProps:{textContent:e._s(e.showLanguage("nav","databases"))}})])]),s("li",{class:{active:e.getActivePanel("servers")}},[s("span",{on:{click:function(t){return e.loadPanel("servers",t)}}},[s("img",{attrs:{src:"img/icon/servers2.png"}}),e._v(" "),s("span",{attrs:{title:e.showLanguage("title","serversTitle")},domProps:{textContent:e._s(e.showLanguage("nav","servers"))}})])]),e.isRootUser||e.isAdminUser?s("li",{class:{active:e.getActivePanel("execute")}},[s("span",{on:{click:function(t){return e.loadPanel("execute",t)}}},[s("img",{attrs:{src:"img/icon/json.gif"}}),e._v(" "),s("span",{attrs:{title:e.showLanguage("title","executeTitle")},domProps:{textContent:e._s(e.showLanguage("nav","execute"))}})])]):e._e(),e.isRootUser||e.isAdminUser?s("li",{class:{active:e.getActivePanel("status")}},[s("span",{on:{click:function(t){return e.loadPanel("status",t)}}},[s("img",{attrs:{src:"img/icon/detail.png"}}),e._v(" "),s("span",{attrs:{title:e.showLanguage("title","statusTitle")},domProps:{textContent:e._s(e.showLanguage("nav","status"))}})])]):e._e(),e.isRootUser||e.isAdminUser?s("li",{class:{active:e.getActivePanel("processes")}},[s("span",{on:{click:function(t){return e.loadPanel("processes",t)}}},[s("img",{attrs:{src:"img/icon/report.png"}}),e._v(" "),s("span",{attrs:{title:e.showLanguage("title","processesTitle")},domProps:{textContent:e._s(e.showLanguage("nav","processes"))}})])]):e._e(),s("li",{class:{active:e.getActivePanel("command")}},[s("span",{on:{click:function(t){return e.loadPanel("command",t)}}},[s("img",{attrs:{src:"img/icon/s-icon.gif"}}),e._v(" "),s("span",{attrs:{title:e.showLanguage("title","commandTitle")},domProps:{textContent:e._s(e.showLanguage("nav","command"))}})])]),e.isRootUser||e.isAdminUser||e.isUserAdmin?s("li",{class:{active:e.getActivePanel("users")}},[s("span",{on:{click:function(t){return e.loadPanel("users",t)}}},[s("img",{attrs:{src:"img/icon/databases.png"}}),e._v(" "),s("span",{attrs:{title:e.showLanguage("title","usersTitle")},domProps:{textContent:e._s(e.showLanguage("nav","users"))}})])]):e._e(),e.isRootUser||e.isAdminUser?s("li",{class:{active:e.getActivePanel("master")}},[s("span",{on:{click:function(t){return e.loadPanel("master",t)}}},[s("img",{attrs:{src:"img/icon/key.png"}}),e._v(" "),s("span",{attrs:{title:e.showLanguage("title","masterTitle")},domProps:{textContent:e._s(e.showLanguage("nav","master"))}})])]):e._e()])])])},z=[],W={props:["collapsed","user"],data:function(){return{activePanel:null}},computed:{userLoadStatus:function(){return 2===this.$store.getters.getUserLoadStatus},isMember:function(){var e=this.$cookies.get("app-member");return e&&e.length>=3||this.userLoadStatus},activeNav:function(){return this.$store.getters.getActiveNav},isRootUser:function(){return this.user.user_role&&!0===this.user.user_role.hasRoot},isAdminUser:function(){return this.user.admin_user&&"1"===this.user.admin_user},isUserAdmin:function(){return this.$store.getters.canUserAdminUsers}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},getActivePanel:function(e){return this.activePanel===e},setActivePanel:function(){this.activePanel=this.$store.getters.getActivePanel},loadPanel:function(e){this.$store.dispatch("setActiveNav",e),i["a"].$emit("hide-panels"),i["a"].$emit("show-"+e)}},watch:{activeNav:function(){this.setActivePanel()}}},X=W,Z=(s("31d9"),Object(g["a"])(X,Q,z,!1,null,null,null)),Y=Z.exports,ee={components:{Top:J,TopNav:Y},data:function(){return{error:null,expanded:!1,collapsed:!1,user:{}}},computed:{watchError:function(){return this.$store.getters.getAppErrorData}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},watchLeftNav:function(){this.expanded=!this.expanded,!0===this.expanded&&(this.$jqf(this.$refs.pmaTopPanel).css("margin-left","5px"),this.$jqf(this.$refs.pmaTopPanel).css("width","99vw")),!1===this.expanded&&(this.$jqf(this.$refs.pmaTopPanel).css("margin-left","245px"),this.$jqf(this.$refs.pmaTopPanel).css("width","calc(100vw - 262px)"))},collapseNav:function(e){this.collapsed=e},setError:function(e){if(e)this.error={error:e};else{var t=this.$store.getters.getAppErrorData;this.error=t.errors?t.errors:{error:"Unhandled errors occurred"}}},setPermissionError:function(){!1===this.$store.getters.getCanUserReadDatabase&&!1===this.$store.getters.getCanUserWriteDatabase&&this.setError(this.showLanguage("errors","noDatabaseRole"))},clearError:function(){this.$store.dispatch("clearAppErrorData"),this.error=null},getUser:function(){this.user=this.$store.getters.getUser}},mounted:function(){var e=this;setTimeout((function(){e.getUser(),e.setPermissionError()}),500),i["a"].$on("collapse-left-nav",(function(){e.watchLeftNav()})),i["a"].$on("expand-left-nav",(function(){e.watchLeftNav()})),i["a"].$on("collapse-nav",(function(t){e.collapseNav(t)})),setTimeout((function(){e.setPermissionError()}),500)},watch:{watchError:function(){this.setError()}}},te=ee,se=(s("a3ee"),Object(g["a"])(te,O,q,!1,null,null,null)),ae=se.exports,oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"pmaMainPanel",staticClass:"pma-main-panel",on:{"&scroll":function(t){return e.handleScroll.apply(null,arguments)}}},[s("div",{ref:"pmaInner",staticClass:"pma-main-inner"},[s("servers-main")],1)])},ne=[],re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pma-servers-main align-left",attrs:{id:"pma-servers-main"}},[s("servers-view"),s("execute-view"),s("status-view"),s("processes-view"),s("command-view"),s("users-view",{attrs:{account:e.getUser}}),s("master-view")],1)},ie=[],ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"pma-servers-panel align-left",attrs:{id:"pma-servers-view"}},[s("div",{staticClass:"servers-inner"},[s("div",{staticClass:"servers-head"},[s("h3",{domProps:{textContent:e._s(e.showLanguage("servers","title"))}}),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.getServersCount,expression:"!getServersCount"}]},[s("span",{domProps:{textContent:e._s(e.showLanguage("servers","none"))}}),s("span",{staticClass:"pma-link",domProps:{textContent:e._s(e.showLanguage("servers","createFirst"))},on:{click:e.setupServer}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.getServersCount,expression:"getServersCount"}]},[s("span",{domProps:{textContent:e._s(e.showLanguage("servers","add"))}}),s("span",{staticClass:"pma-link",domProps:{textContent:e._s(e.showLanguage("servers","addNew"))},on:{click:e.setupServer}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.message,expression:"message"}]},[e._v(e._s(e.message))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.createNew||e.editing,expression:"createNew || editing"}],staticClass:"server-create"},[s("p",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"form-error"},[e._v(e._s(e.error))]),s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("servers","mongoCloud"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.mongo_cloud,expression:"form.mongo_cloud"}],staticClass:"checkbox u-pull-left",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.mongo_cloud)?e._i(e.form.mongo_cloud,null)>-1:e.form.mongo_cloud},on:{click:e.updateConnection,change:function(t){var s=e.form.mongo_cloud,a=t.target,o=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.form,"mongo_cloud",s.concat([n])):r>-1&&e.$set(e.form,"mongo_cloud",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.form,"mongo_cloud",o)}}})])]),s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("servers","host"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.host,expression:"form.host"}],attrs:{type:"text",placeholder:e.getHostPlaceholder},domProps:{value:e.form.host},on:{focus:function(t){e.hostHelp=!0},blur:function(t){e.hostHelp=!1},keyup:e.updateConnection,input:function(t){t.target.composing||e.$set(e.form,"host",t.target.value)}}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.hostHelp,expression:"hostHelp"}],staticClass:"text-info info-text",domProps:{textContent:e._s(e.showLanguage("servers","hostHelp"))}})]),s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("servers","port"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.port,expression:"form.port"}],attrs:{type:"text",placeholder:e.showLanguage("servers","portPlaceholder")},domProps:{value:e.form.port},on:{keyup:e.updateConnection,input:function(t){t.target.composing||e.$set(e.form,"port",t.target.value)}}})])]),s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("servers","username"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],attrs:{type:"text",placeholder:e.showLanguage("servers","usernamePlaceholder")},domProps:{value:e.form.username},on:{keyup:e.updateConnection,input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}})])]),s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("servers","password"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:e.showLanguage("servers","passwordPlaceholder")},domProps:{value:e.form.password},on:{keyup:e.updateConnection,input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})])]),s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("servers","confirm"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password2,expression:"form.password2"}],attrs:{type:"password",placeholder:e.showLanguage("servers","confirmPlaceholder")},domProps:{value:e.form.password2},on:{input:function(t){t.target.composing||e.$set(e.form,"password2",t.target.value)}}})])]),s("p",{directives:[{name:"show",rawName:"v-show",value:!0===this.form.mongo_cloud,expression:"this.form.mongo_cloud === true"}],staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("servers","mongoCloudDb"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.mongo_cloud_database,expression:"form.mongo_cloud_database"}],attrs:{type:"text",placeholder:e.showLanguage("servers","mongoCloudDbPlaceholder")},domProps:{value:e.form.mongo_cloud_database},on:{keyup:e.updateConnection,input:function(t){t.target.composing||e.$set(e.form,"mongo_cloud_database",t.target.value)}}})]),s("span",{staticClass:"text-info info-text",domProps:{textContent:e._s(e.showLanguage("servers","mongoCloudDbInfo"))}})]),s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("servers","active"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.active,expression:"form.active"}],staticClass:"checkbox u-pull-left",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.active)?e._i(e.form.active,null)>-1:e.form.active},on:{change:function(t){var s=e.form.active,a=t.target,o=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.form,"active",s.concat([n])):r>-1&&e.$set(e.form,"active",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.form,"active",o)}}})])]),s("p",{staticClass:"field"},[s("span",{domProps:{textContent:e._s(e.showConnection)}})]),s("p",{staticClass:"field"},[s("button",{directives:[{name:"show",rawName:"v-show",value:e.createNew,expression:"createNew"}],staticClass:"button",attrs:{type:"submit"},domProps:{textContent:e._s(e.showLanguage("servers","createButton"))},on:{click:e.createServer}}),s("button",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"}],staticClass:"button",attrs:{type:"submit"},domProps:{textContent:e._s(e.showLanguage("servers","updateButton"))},on:{click:e.updateServer}}),s("button",{staticClass:"button warning",domProps:{textContent:e._s(e.showLanguage("global","reset"))},on:{click:e.reset}}),s("button",{staticClass:"button warning",domProps:{textContent:e._s(e.showLanguage("global","cancel"))},on:{click:e.cancel}})])]),e._l(e.getServers,(function(t,a){return s("server-config",{directives:[{name:"show",rawName:"v-show",value:!e.createNew&&!e.editing,expression:"!createNew && !editing"}],key:a,attrs:{server:t,total:e.getTotal},on:{activateServer:function(t){return e.activateServer(t)},edit:function(t){return e.edit(t)},delete:function(t){return e.deleteConfig(t)}}})}))],2)]):e._e()},le=[],ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("table",{staticClass:"bordered"},[s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("servers","host"))}}),s("td",[e._v(e._s(e.server.host))])]),s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("servers","port"))}}),s("td",[e._v(e._s(e.server.port))])]),s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("servers","username"))}}),s("td",[e._v(e._s(e.server.username))])]),s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("servers","password"))}}),s("td",[e._v("*****")])]),s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("servers","active"))}}),s("td",[e._v(e._s(e.showBool(e.server.active))+" "),s("span",{directives:[{name:"show",rawName:"v-show",value:0===e.server.active,expression:"server.active === 0"}],staticClass:"activate-checkbox",attrs:{title:e.showLanguage("title","activateServerTitle")}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activate,expression:"activate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.activate)?e._i(e.activate,null)>-1:e.activate},on:{change:[function(t){var s=e.activate,a=t.target,o=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&(e.activate=s.concat([n])):r>-1&&(e.activate=s.slice(0,r).concat(s.slice(r+1)))}else e.activate=o},function(t){return e.activateServer(e.server.id)}]}}),s("span",{domProps:{textContent:e._s(e.showLanguage("servers","check"))}})])])]),s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("servers","created"))}}),s("td",[e._v(e._s(e.server.created_at))])]),s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("servers","mongoCloudTitle"))}}),s("td",[e._v(e._s(e.showBool(e.server.mongo_cloud)))])]),s("tr",[s("th",{staticClass:"server-uri bb",attrs:{colspan:"2"},domProps:{textContent:e._s(e.showConnection())}})]),e.canEdit||e.canDelete?s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("servers","actions"))}}),s("td",[e.canEdit?s("span",{staticClass:"pma-link",domProps:{textContent:e._s(e.showLanguage("servers","edit"))},on:{click:function(t){return e.$emit("edit",e.server.id)}}}):e._e(),e.canEdit&&e.canDelete?s("span",[e._v(" | ")]):e._e(),e.canDelete?s("span",{staticClass:"pma-link-danger",domProps:{textContent:e._s(e.showLanguage("servers","delete"))},on:{click:function(t){return e.$emit("delete",e.server.id)}}}):e._e()])]):e._e(),e.canEdit||e.canDelete?e._e():s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("global","warning"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("servers","cannotEditDelete"))}})])])])},de=[],me={name:"ServerConfig",props:["server","total"],data:function(){return{activate:null,connection:null}},computed:{showActions:function(){return!0},canEdit:function(){return this.total>=2},canDelete:function(){return this.total>=2&&0===this.server.active}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},showBool:function(e){return 1===e||"1"===e||!0===e?"True":"False"},activateServer:function(e){!0===this.activate&&this.$emit("activate-server",e)},showConnection:function(){var e=this.server.host;return e?"localhost"===e||"127.0.0.1"===e?this.configLocalhost(e):this.server.mongo_cloud&&!0===this.server.mongo_cloud?this.configMongoCloud(e):e+":"+this.server.port:""},configLocalhost:function(e){return"mongodb://"+e+":"+this.server.port},configMongoCloud:function(e){var t="*****",s="?retryWrites=true&w=majority";return this.server.mongo_cloud_database&&(s="/"+this.server.mongo_cloud_database+s),"mongodb+srv://"+this.server.username+":"+t+"@"+e+s}}},ge=me,he=(s("782c"),Object(g["a"])(ge,ue,de,!1,null,null,null)),pe=he.exports,fe={name:"ServersView",components:{ServerConfig:pe},data:function(){return{connection:null,createNew:!1,deleteId:null,editing:!1,error:null,form:{active:0,host:null,mongo_cloud:!1,mongo_cloud_database:"",password:null,password2:null,port:27017,username:""},hostConfigs:[],hostHelp:null,index:0,limit:55,message:null,show:!1,server:{},servers:null,setup:{active:0,host:null,mongo_cloud:!1,mongo_cloud_database:"",password:null,password2:null,port:27017,username:""}}},computed:{getServers:function(){return this.$store.getters.getServers},getTotal:function(){return this.$store.getters.getServersCount},getServersCount:function(){return this.$store.getters.getServersCount>=1},getHostPlaceholder:function(){return!0===this.form.mongo_cloud?this.showLanguage("servers","hostMongoPlaceholder"):this.showLanguage("servers","hostPlaceholder")},showConnection:function(){return this.connection}},methods:{showLanguage:function(e,t,s){if(s){var a=this.$store.getters.getLanguageString(e,t);return a.replace("%s",s)}return this.$store.getters.getLanguageString(e,t)},setupServer:function(){this.editing=!1,this.form=this.setup,this.createNew=!this.createNew},updateConnection:function(){var e=this;this.error=null,setTimeout((function(){var t=e.form,s=t.host;if(s)return"localhost"===s||"127.0.0.1"===s?!0===t.mongo_cloud?void(e.error=e.showLanguage("errors","servers.mongoCloudHost",s)):void(e.connection=e.configLocalhost(s)):void(!0!==t.mongo_cloud?e.connection=s+":"+t.port:e.connection=e.configMongoCloud(s));e.connection=""}),250)},configLocalhost:function(e){return"mongodb://"+e+":"+this.form.port},configMongoCloud:function(e){var t,s="",a=0,o=this.form;if(o.password)for(a=0;a<=o.password.length;a++)s+="*";return t="?retryWrites=true&w=majority",o.mongo_cloud_database&&(t="/"+o.mongo_cloud_database+t),"mongodb+srv://"+o.username+":"+s+"@"+e+t},validateServer:function(){if(this.error=null,this.createNew){if(!this.form.host)return this.error=this.showLanguage("errors","servers.hostRequired"),!1;if(!this.form.username)return this.error=this.showLanguage("errors","global.userRequired"),!1;if(!this.form.password)return this.error=this.showLanguage("errors","global.passwordRequired"),!1}if(this.editing&&this.form.password||this.createNew){if(this.form.password.length<this.$store.getters.getMinPwdLength)return this.error=this.showLanguage("errors","global.passwordLength",this.$store.getters.getMinPwdLength),!1;if(this.form.password!==this.form.password2)return this.error=this.showLanguage("errors","global.passwordMatch"),!1}return!0!==this.form.mongo_cloud||"localhost"!==this.form.host&&"127.0.0.1"!==this.form.host||(this.error=this.showLanguage("errors","servers.mongoCloudHost",this.form.host),!1)},createServer:function(){this.validateServer()&&(this.$store.dispatch("saveServer",this.form),this.completeCreateServer())},completeCreateServer:function(){var e=this,t=this.$store.getters.getServerSaveStatus;1===t&&this.index<this.limit&&(this.index+=1,setTimeout((function(){e.completeCreateServer()}),200)),2===t&&(i["a"].$emit("show-success",{notification:this.showLanguage("servers","createSuccess"),timer:5e3}),this.createNew=!1),3===t&&i["a"].$emit("show-error",{notification:this.showLanguage("errors","servers.createError"),timer:7e3})},updateServer:function(){this.validateServer()&&(this.form.update=1,this.$store.dispatch("saveServer",this.form),this.completeUpdateServer())},completeUpdateServer:function(){var e=this,t=this.$store.getters.getServerSaveStatus;1===t&&this.index<this.limit&&(this.index+=1,setTimeout((function(){e.completeUpdateServer()}),200)),2===t&&(i["a"].$emit("show-success",{notification:this.showLanguage("servers","updateSuccess"),timer:5e3}),this.editing=!1),3===t&&i["a"].$emit("show-error",{notification:this.showLanguage("errors","servers.updateError"),timer:7e3})},activateServer:function(e){e&&this.$store.dispatch("activateServer",e)},edit:function(e){this.form=this.$store.getters.getServerConfiguration(e),this.editing=!this.editing},deleteConfig:function(e){this.deleteId=e,i["a"].$emit("delete-confirmation",{id:e,element:"server",notification:this.showLanguage("servers","deleteConfirm")})},deleteConfirmed:function(e){e===this.deleteId&&(this.$store.dispatch("deleteServer",e),this.handleDeletion())},handleDeletion:function(){var e=this.$store.getters.getServerDeleteStatus;1===e&&this.handleDeletion(),2===e&&(i["a"].$emit("show-success",{notification:this.showLanguage("servers","deleteSuccess"),timer:5e3}),this.deleteId=null),3===e&&i["a"].$emit("show-error",{notification:this.showLanguage("errors","servers.deleteFailed"),timer:7e3})},deleteCancelled:function(){this.deleteId=null},reset:function(){this.form=this.setup},cancel:function(){this.reset(),this.editing&&(this.editing=!this.editing),this.createNew&&(this.createNew=!this.createNew)},showComponent:function(){this.$store.dispatch("loadServers"),this.show=!0},hideComponent:function(){this.show=!1}},mounted:function(){var e=this;i["a"].$on("hide-panels",(function(){e.hideComponent()})),i["a"].$on("show-servers",(function(){e.showComponent()})),i["a"].$on("confirm-delete-server",(function(t){e.deleteConfirmed(t)})),i["a"].$on("cancel-delete-server",(function(t){e.deleteCancelled(t)}))}},ve=fe,Ce=(s("1820"),Object(g["a"])(ve,ce,le,!1,null,null,null)),we=Ce.exports,be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"pma-servers-panel align-left",attrs:{id:"pma-execute-view"}},[e._m(0)]):e._e()},Se=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"servers-inner"},[s("p",[e._v("Executing JavaScript commands via PHP is now deprecated: PhpMongoAdmin is designed to use MongoDB drivers which no longer supports the use of eval() command.")])])}],Le={name:"ExecuteView",data:function(){return{show:!1,server:{},form:{host:null,port:27017,username:null,password:null,password2:null,active:null},message:null,error:null}},computed:{getServers:function(){return this.$store.getters.getServers}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},showComponent:function(){this.$store.dispatch("loadServers"),this.show=!0},hideComponent:function(){this.show=!1}},mounted:function(){var e=this;i["a"].$on("hide-panels",(function(){e.hideComponent()})),i["a"].$on("show-execute",(function(){e.showComponent()}))}},_e=Le,ye=(s("dae2"),Object(g["a"])(_e,be,Se,!1,null,null,null)),xe=ye.exports,$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"pma-servers-panel align-left",attrs:{id:"pma-status-view"}},[s("div",{staticClass:"servers-inner"},[s("h3",{domProps:{textContent:e._s(e.showLanguage("server","titleStatus"))}}),e.errorMessage?s("div",[e._v(e._s(e.errorMessage))]):e._e(),s("div",{domProps:{innerHTML:e._s(e.getString(e.status))}})])])},Pe=[],De={name:"StatusView",data:function(){return{index:0,limit:55,show:!1,status:{},form:{host:null,port:27017,username:null,password:null,password2:null,active:null},errorMessage:null,error:null}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},getString:function(e){return this.$convObj().jsonH(JSON.stringify(e))},getStatus:function(){this.$store.dispatch("getServerStatus","admin"),this.handleStatus()},handleStatus:function(){var e=this,t=this.$store.getters.getLoadServerStatus;1===t&&this.index<this.limit&&(this.index+=1,setTimeout((function(){e.handleStatus()}),200)),2===t&&(this.status=this.$store.getters.getServerStatus),3===t&&(this.errorMessage=this.showLanguage("server","statusError"))},showComponent:function(){this.show=!0},hideComponent:function(){this.show=!1}},mounted:function(){var e=this;i["a"].$on("hide-panels",(function(){e.hideComponent()})),i["a"].$on("show-status",(function(){e.showComponent(),e.getStatus()}))}},Ne=De,Ue=(s("512d"),Object(g["a"])(Ne,$e,Pe,!1,null,null,null)),ke=Ue.exports,Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"pma-servers-panel align-left",attrs:{id:"pma-processes-view"}},[s("div",{staticClass:"servers-inner"},[s("div",[e.errorMessage?s("div",[e._v(e._s(e.errorMessage))]):e._e(),s("table",{staticClass:"table table-striped"},[s("thead",[s("tr",[s("th",{staticClass:"title",attrs:{colspan:"11"}},[s("span",{domProps:{textContent:e._s(e.showLanguage("server","processList"))}}),e._v(" (db.$cmd.sys.inprog.find({$all:1}))")])]),s("tr",{staticClass:"trbg"},[s("td",{domProps:{textContent:e._s(e.showLanguage("server","processId"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("server","processThreadId"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("server","processNameSpace"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("server","processDescription"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("server","processClient"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("server","processActive"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("server","processLockType"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("server","processWaiting"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("server","processSeconds"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("server","processOperation"))}}),s("td",{domProps:{textContent:e._s(e.showLanguage("server","processClientMetadata"))}})])]),s("tbody",[e.processes?e._e():s("tr",[s("td",{attrs:{colspan:"11"}},[s("span",{domProps:{textContent:e._s(e.showLanguage("server","processesNone"))}})])]),e._l(e.processes,(function(t,a){return s("tr",{key:a,staticClass:"tdrb",attrs:{process:t}},[s("td",{domProps:{innerHTML:e._s(e.getString(t.connectionId))}}),s("td",{domProps:{innerHTML:e._s(e.getString(t.threadId))}}),s("td",{domProps:{innerHTML:e._s(e.getString(t.ns))}}),s("td",{domProps:{innerHTML:e._s(e.getString(t.desc))}}),s("td",{domProps:{innerHTML:e._s(e.getString(t.client))}}),s("td",{domProps:{innerHTML:e._s(e.getString(t.active))}}),s("td",{domProps:{innerHTML:e._s(e.getString(t.locks))}}),s("td",{domProps:{innerHTML:e._s(e.getString(t.waitingForLock))}}),s("td",{domProps:{innerHTML:e._s(e.getString(t.secs_running))}}),s("td",{domProps:{innerHTML:e._s(e.getString(t.opid))}}),s("td",{domProps:{innerHTML:e._s(e.getString(t.clientMetadata))}})])}))],2)])])])]):e._e()},Ee=[],Te={name:"ProcessesView",data:function(){return{show:!1,processes:[],errorMessage:null,index:0,limit:55}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},getString:function(e){return this.$convObj().jsonH(JSON.stringify(e))},getProcesses:function(){this.$store.dispatch("getServerProcesses"),this.handleProcesses()},handleProcesses:function(){var e=this,t=this.$store.getters.getLoadServerProcesses;1===t&&this.index<this.limit&&(this.index+=1,setTimeout((function(){e.handleProcesses()}),200)),2===t&&(console.log("status: "+t),this.processes=this.$store.getters.getServerProcesses),3===t&&(this.errorMessage=this.showLanguage("errors","processing"))},showComponent:function(){this.show=!0},hideComponent:function(){this.show=!1}},mounted:function(){var e=this;i["a"].$on("hide-panels",(function(){e.hideComponent()})),i["a"].$on("show-processes",(function(){e.showComponent(),e.getProcesses()}))}},Ie=Te,Me=(s("fa34"),Object(g["a"])(Ie,Ae,Ee,!1,null,null,null)),Re=Me.exports,je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"pma-servers-panel align-left",attrs:{id:"pma-command-view"}},[s("div",{staticClass:"servers-inner"},[s("h3",{domProps:{textContent:e._s(e.showLanguage("command","title"))}}),s("p",{staticClass:"top-link"},[s("a",{attrs:{href:"http://docs.mongodb.org/manual/reference/command/",target:"_blank"},domProps:{textContent:e._s(e.showLanguage("command","reference"))}})]),s("form",{staticClass:"panel-form"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.command,expression:"form.command"}],domProps:{value:e.form.command},on:{input:function(t){t.target.composing||e.$set(e.form,"command",t.target.value)}}}),s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.database,expression:"form.database"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"database",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"json"},domProps:{textContent:e._s(e.showLanguage("command","selectDb"))}}),e._l(e.getDatabases,(function(t,a){return s("option",{key:a,attrs:{database:t},domProps:{value:t.db.name}},[e._v(e._s(t.db.name))])}))],2),s("select",{directives:[{name:"model",rawName:"v-model",value:e.form.format,expression:"form.format"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"format",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"json"},domProps:{textContent:e._s(e.showLanguage("command","json"))}}),s("option",{attrs:{value:"array"},domProps:{textContent:e._s(e.showLanguage("command","array"))}})]),s("br"),s("button",{staticClass:"button",domProps:{textContent:e._s(e.showLanguage("command","execute"))},on:{click:e.sendCommand}}),s("button",{staticClass:"button warning",domProps:{textContent:e._s(e.showLanguage("global","clear"))},on:{click:e.clear}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage||e.message,expression:"errorMessage || message"}]},[s("span",{staticClass:"msg"},[s("span",{staticClass:"error"},[e._v(e._s(e.errorMessage))]),s("span",{staticClass:"action"},[e._v(e._s(e.message))])])]),e.results?s("div",e._l(e.results,(function(t,a){return s("div",{key:a,attrs:{result:t}},[s("p",{domProps:{innerHTML:e._s(e.highlight(a,t))}})])})),0):e._e()])]):e._e()},Oe=[],qe=s("ade3"),Fe={name:"CommandView",data:function(){return{databases:null,errorMessage:null,form:{command:'{\n\t"listCommands": 1\n}',database:null,format:"json"},index:0,limit:55,message:null,results:null,key:null,show:!1}},computed:{getDatabases:function(){return this.$store.getters.getDatabases},watchActiveDatabase:function(){return this.$store.getters.getActiveDatabase}},methods:{showLanguage:function(e,t,s){return s?this.$store.getters.getLanguageString(e,t).replace("%s",s):this.$store.getters.getLanguageString(e,t)},getActiveDatabase:function(){this.form.database=this.$store.getters.getActiveDatabase},clear:function(){this.errorMessage="",this.form.database=null,this.results=null},sendCommand:function(){if(this.errorMessage="",this.form.command)if(this.form.database){var e=this.$convObj().minify(this.form.command),t={database:this.form.database,params:{format:this.form.format,command:e,database:this.form.database}};this.$store.dispatch("databaseCommand",t),this.handleCommand()}else this.errorMessage=this.showLanguage("command","selectDb")},handleCommand:function(){var e=this,t=this.$store.getters.getCommandLoadStatus;if(1===t&&this.index<this.limit&&(this.index+=1,setTimeout((function(){e.handleCommand()}),250)),2===t){var s,a=this.$store.getters.getCommandResults;for(s in a){this.results=a[s],this.key=s;break}}3===t&&(this.errorMessage="An error occurred running the command - try reformatting the query",this.results=this.$store.getters.getErrorData)},highlight:function(e,t){var s=Object(qe["a"])({},e,t);return t=JSON.stringify(s),t=t.replace("false","~"),t=t.replace("true","`"),this.$convObj().jsonH(t)},showComponent:function(){this.show=!0},hideComponent:function(){this.show=!1}},mounted:function(){var e=this;i["a"].$on("hide-panels",(function(){e.hideComponent()})),i["a"].$on("show-command",(function(){e.showComponent()}))},watch:{watchActiveDatabase:function(){this.getActiveDatabase()}}},Be=Fe,He=(s("ed60"),Object(g["a"])(Be,je,Oe,!1,null,null,null)),Ve=He.exports,Ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"pma-servers-panel align-left",attrs:{id:"pma-users-view"}},[s("div",{staticClass:"servers-inner"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isEnabled,expression:"isEnabled"}],staticClass:"servers-head"},[s("h3",{domProps:{textContent:e._s(e.showLanguage("users","title"))}}),s("p",[s("button",{staticClass:"button",domProps:{textContent:e._s(e.showLanguage("users","loginUsersShow"))},on:{click:function(t){return e.setDisplay("login")}}}),s("button",{staticClass:"button",domProps:{textContent:e._s(e.showLanguage("users","databaseUsersShow"))},on:{click:function(t){return e.setDisplay("database")}}}),s("button",{staticClass:"button",domProps:{textContent:e._s(e.showLanguage("users","createNew"))},on:{click:e.showForm}})]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.message,expression:"message"}]},[e._v(e._s(e.message))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.createNew||e.editing,expression:"createNew || editing"}],staticClass:"server-create"},[s("p",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"form-error"},[e._v(e._s(e.error))]),s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("strong",{domProps:{textContent:e._s(e.showLanguage("users","type"))}})]),s("label",{staticClass:"input-group-label input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.type,expression:"form.type"}],staticClass:"radio u-pull-left",attrs:{type:"radio",value:"login",disabled:e.editing&&"database"===this.action.type},domProps:{checked:e._q(e.form.type,"login")},on:{change:function(t){return e.$set(e.form,"type","login")}}}),s("span",{domProps:{textContent:e._s(e.showLanguage("users","typeLogin"))}}),e._v(": ")]),s("label",{directives:[{name:"show",rawName:"v-show",value:!1===e.hideNonAdminTypes,expression:"hideNonAdminTypes === false"}],staticClass:"input-group-label input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.type,expression:"form.type"}],staticClass:"radio u-pull-left",attrs:{type:"radio",value:"database",disabled:e.editing&&"login"===this.action.type},domProps:{checked:e._q(e.form.type,"database")},on:{change:function(t){return e.$set(e.form,"type","database")}}}),s("span",{domProps:{textContent:e._s(e.showLanguage("users","typeDatabase"))}})]),s("label",{directives:[{name:"show",rawName:"v-show",value:!1===e.hideNonAdminTypes&&!1===e.editing,expression:"hideNonAdminTypes === false && editing === false"}],staticClass:"input-group-label input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.type,expression:"form.type"}],staticClass:"radio u-pull-left",attrs:{type:"radio",value:"both",readonly:e.editing},domProps:{checked:e._q(e.form.type,"both")},on:{change:function(t){return e.$set(e.form,"type","both")}}}),s("span",{domProps:{textContent:e._s(e.showLanguage("users","typeBoth"))}})])]),e.showHideFields?s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("users","name"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],attrs:{type:"text"},domProps:{value:e.form.name},on:{focus:function(t){return e.onFocus(t,"name")},blur:function(t){return e.onBlur(t)},input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})])]):e._e(),s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("users","username"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user,expression:"form.user"}],attrs:{type:"text",disabled:!0===e.editing&&"database"===e.form.type},domProps:{value:e.form.user},on:{focus:function(t){return e.onFocus(t,"user")},blur:function(t){return e.onBlur(t)},input:function(t){t.target.composing||e.$set(e.form,"user",t.target.value)}}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:!0===e.editing&&"database"===e.form.type,expression:"editing === true && form.type === 'database'"}],staticClass:"text-info",staticStyle:{"text-align":"left !important"},domProps:{innerHTML:e._s(e.showLanguage("users","notEditMongoUser"))}})]),e.displayPassword?s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("users","password"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],attrs:{type:"password"},domProps:{value:e.form.password},on:{focus:function(t){return e.onFocus(t,"password")},blur:function(t){return e.onBlur(t)},input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})])]):e._e(),e.displayPassword?s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("users","confirm"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password2,expression:"form.password2"}],attrs:{type:"password"},domProps:{value:e.form.password2},on:{input:function(t){t.target.composing||e.$set(e.form,"password2",t.target.value)}}})])]):e._e(),!e.displayPassword&&e.isAdminAccount?s("p",{staticClass:"field admin-user"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("users","editPassword"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.editPassword,expression:"form.editPassword"}],staticClass:"checkbox u-pull-left",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.editPassword)?e._i(e.form.editPassword,null)>-1:e.form.editPassword},on:{change:function(t){var s=e.form.editPassword,a=t.target,o=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.form,"editPassword",s.concat([n])):r>-1&&e.$set(e.form,"editPassword",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.form,"editPassword",o)}}})])]):e._e(),e.showHideFields?s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("users","email"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{type:"email"},domProps:{value:e.form.email},on:{focus:function(t){return e.onFocus(t,"email")},blur:function(t){return e.onBlur(t)},input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})])]):e._e(),e.showHideFields?s("p",{staticClass:"field admin-user"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("users","adminUser"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.isAdmin,expression:"form.isAdmin"}],staticClass:"checkbox u-pull-left",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.isAdmin)?e._i(e.form.isAdmin,null)>-1:e.form.isAdmin},on:{focus:function(t){return e.onFocus(t,"isAdmin")},blur:function(t){return e.onBlur(t)},change:function(t){var s=e.form.isAdmin,a=t.target,o=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.form,"isAdmin",s.concat([n])):r>-1&&e.$set(e.form,"isAdmin",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.form,"isAdmin",o)}}})]),!0===e.form.isAdmin?s("span",{staticClass:"help-text",domProps:{innerHTML:e._s(e.showLanguage("users","isAdminMessage"))}}):e._e()]):e._e(),e.showHideFields?s("p",{staticClass:"field"},[s("label",{staticClass:"input-group-label input"},[s("span",{domProps:{textContent:e._s(e.showLanguage("users","active"))}}),e._v(": "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.active,expression:"form.active"}],staticClass:"checkbox u-pull-left",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.active)?e._i(e.form.active,null)>-1:e.form.active},on:{focus:function(t){return e.onFocus(t,"active")},blur:function(t){return e.onBlur(t)},change:function(t){var s=e.form.active,a=t.target,o=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.form,"active",s.concat([n])):r>-1&&e.$set(e.form,"active",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.form,"active",o)}}})])]):e._e(),"database"===this.form.type||"both"===this.form.type||this.form.roles.length>=1?s("p",[s("label",{staticClass:"input-group-label input"},[s("strong",{domProps:{textContent:e._s(e.showLanguage("users","roles"))}})]),!0===e.createNew?s("span",e._l(e.roleCount,(function(t){return s("role-selector",{directives:[{name:"show",rawName:"v-show",value:e.createNew,expression:"createNew"}],key:t-1,on:{updateRole:function(s){e.updateRole(s,t-1)},removeRole:e.removeRole,addRole:e.addRole}})})),1):e._e(),!0===e.editing?s("span",e._l(e.form.roles,(function(t,a){return s("role-selector-edit",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"}],key:a,attrs:{dbrole:t},on:{updateRole:function(t){return e.updateRole(t,a)},removeRole:e.removeRole,addRole:e.addRole,onFocus:function(t){return e.onFocus(t,"roles")},onBlur:function(t){return e.onBlur(t,"roles")}}})})),1):e._e()]):e._e(),s("p",[e.createNew?s("button",{staticClass:"button success",domProps:{textContent:e._s(e.showLanguage("global","save"))},on:{click:e.saveUser}}):e._e(),e.editing?s("button",{staticClass:"button success",domProps:{textContent:e._s(e.showLanguage("global","update"))},on:{click:e.saveEdit}}):e._e(),s("button",{staticClass:"button warning",domProps:{textContent:e._s(e.showLanguage("global","reset"))},on:{click:e.reset}}),s("button",{staticClass:"button warning",domProps:{textContent:e._s(e.showLanguage("global","cancel"))},on:{click:e.closeForm}})])]),"login"===e.display.current?s("div",[s("h5",{domProps:{textContent:e._s(e.showLanguage("users","loginUsers"))}}),e._l(e.loginUsers,(function(t,a){return s("login-user",{key:a,attrs:{user:t,account:e.account},on:{activate:function(t){return e.setActiveStatus(t,a)},"edit-user":function(t){return e.edit(t,a)},"delete-user":function(t){return e.deleteUser(t,a)},"pma-main-panel-scroll":e.scrollToTop}})}))],2):e._e(),"database"===e.display.current?s("div",[s("h5",{domProps:{textContent:e._s(e.showLanguage("users","databaseUsers"))}}),e._l(e.databaseUsers,(function(t,a){return s("database-user",{key:a,attrs:{user:t},on:{"edit-user":function(t){return e.edit(t,a)},"delete-user":function(t){return e.deleteUser(t,a)},"pma-main-panel-scroll":e.scrollToTop}})}))],2):e._e(),s("div",[s("p",[e.enable?e._e():s("span",{staticClass:"form-error",domProps:{textContent:e._s(e.error)}})]),s("p",[e._v(" ")])])])]):e._e()},Ke=[],Je=(s("4de4"),s("7db0"),s("4d63"),s("25f0"),s("841c"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("p",{staticClass:"role-selector"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.role=t.target.multiple?s:s[0]},function(t){return e.$emit("updateRole",e.role)}]}},[s("option",{attrs:{value:""},domProps:{textContent:e._s(e.showLanguage("users","roleSelect"))}}),s("option",{attrs:{value:"readAnyDatabase"},domProps:{textContent:e._s(e.showLanguage("users","roleReadonlyAny"))}}),s("option",{attrs:{value:"readWriteAnyDatabase"},domProps:{textContent:e._s(e.showLanguage("users","roleReadWriteAny"))}}),s("option",{attrs:{value:"dbAdminAnyDatabase"},domProps:{textContent:e._s(e.showLanguage("users","roleDbAdminAny"))}}),s("option",{attrs:{value:"userAdminAnyDatabase"},domProps:{textContent:e._s(e.showLanguage("users","roleUserAdminAny"))}})]),s("button",{staticClass:"button tiny",domProps:{textContent:e._s(e.showLanguage("users","roleAdd"))},on:{click:function(t){return e.$emit("addRole")}}}),s("button",{staticClass:"button alert tiny",domProps:{textContent:e._s(e.showLanguage("users","roleRemove"))},on:{click:function(t){return e.$emit("removeRole",e.role)}}})]):e._e()}),Qe=[],ze={name:"RoleSelector",data:function(){return{role:null,show:!1}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},clear:function(){this.role=null}},mounted:function(){this.show=!0}},We=ze,Xe=(s("366d"),Object(g["a"])(We,Je,Qe,!1,null,null,null)),Ze=Xe.exports,Ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("p",{staticClass:"role-selector"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],attrs:{disabled:"readWrite"===e.role},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.role=t.target.multiple?s:s[0]},function(t){return e.$emit("updateRole",e.role)}],focus:function(t){return e.$emit("onFocus","roles")},blur:function(t){return e.$emit("onBlur","roles")}}},[s("option",{attrs:{value:""},domProps:{textContent:e._s(e.showLanguage("users","roleSelect"))}}),s("option",{attrs:{value:"readAnyDatabase"},domProps:{textContent:e._s(e.showLanguage("users","roleReadonlyAny"))}}),s("option",{attrs:{value:"readWriteAnyDatabase"},domProps:{textContent:e._s(e.showLanguage("users","roleReadWriteAny"))}}),s("option",{attrs:{value:"dbAdminAnyDatabase"},domProps:{textContent:e._s(e.showLanguage("users","roleDbAdminAny"))}}),s("option",{attrs:{value:"userAdminAnyDatabase"},domProps:{textContent:e._s(e.showLanguage("users","roleUserAdminAny"))}}),s("option",{attrs:{value:"readWrite"},domProps:{textContent:e._s(e.showLanguage("users","roleReadWriteFixed"))}})]),s("button",{staticClass:"button tiny",domProps:{textContent:e._s(e.showLanguage("users","roleAdd"))},on:{click:function(t){return e.$emit("addRole")}}}),s("button",{staticClass:"button alert tiny",domProps:{textContent:e._s(e.showLanguage("users","roleRemove"))},on:{click:function(t){return e.$emit("removeRole",e.role)}}})]):e._e()},et=[],tt={name:"RoleSelectorEdit",props:["dbrole"],data:function(){return{role:null,show:!1}},computed:{watchRole:function(){return this.dbrole}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},setRole:function(){this.dbrole&&(this.role=this.dbrole)},clear:function(){this.role=""}},mounted:function(){var e=this;this.show=!0,setTimeout((function(){e.setRole()}),500)},watch:{watchRole:function(){this.dbrole!==this.role&&this.setRole()}}},st=tt,at=(s("113b"),Object(g["a"])(st,Ye,et,!1,null,null,null)),ot=at.exports,nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("p",{directives:[{name:"show",rawName:"v-show",value:e.hasMessage,expression:"hasMessage"}],staticClass:"form-error"},[e._v(e._s(e.hasMessage))]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.hasMessage,expression:"hasMessage"}],staticClass:"text-info"},[e._v(e._s(e.hasSuccess))]),s("table",{staticClass:"bordered users"},[s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","name"))}}),s("td",{on:{click:e.collapseUser}},[e._v(" "+e._s(e.user.name)+" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"user-collapse u-pull-right",attrs:{title:e.showLanguage("users","collapse")}},[s("img",{attrs:{src:"img/sort-asc-dark.svg",alt:"Collapse user"}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"user-collapse u-pull-right",attrs:{title:e.showLanguage("users","expand")}},[s("img",{attrs:{src:"img/sort-desc-dark.svg",alt:"Expand user"}})])])]),s("tr",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]},[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","email"))}}),s("td",[e._v(e._s(e.user.email))])]),s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","username"))}}),s("td",[e._v(e._s(e.user.user))])]),s("tr",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]},[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","adminUser"))}}),s("td",[e._v(e._s(e.showBool(e.user.admin_user)))])]),s("tr",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]},[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","controlUser"))}}),s("td",[e._v(e._s(e.showBool(e.user.control_user)))])]),s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","active"))}}),s("td",[e._v(" "+e._s(e.showBool(e.user.active))+" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.showActivate,expression:"showActivate"}],staticClass:"activate-checkbox",attrs:{title:e.showLanguage("title","activateUserTitle")}},[s("input",{attrs:{type:"checkbox"},on:{change:function(t){return e.$emit("activate",[e.user.id,"login",e.user.user,e.user.active])}}}),s("span",{domProps:{textContent:e._s(e.showLanguage("users","check"))}})])])]),s("tr",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]},[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","created"))}}),s("td",[e._v(e._s(e.user.created_at))])]),s("tr",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]},[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","updated"))}}),s("td",[e._v(e._s(e.user.updated_at))])]),s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","actions"))}}),s("td",[s("span",{staticClass:"pma-link",domProps:{textContent:e._s(e.showLanguage("global","edit"))},on:{click:function(t){return e.$emit("edit-user",[e.user.id,"login",e.user.user])}}}),e._v(" | "),e.user.id!==e.account.id?s("span",{staticClass:"pma-link-danger",domProps:{textContent:e._s(e.showLanguage("global","delete"))},on:{click:function(t){return e.$emit("delete-user",[e.user.id,"login",e.user.user])}}}):e._e(),s("span",{staticClass:"doc-right-to-top"},[s("span",{staticClass:"pma-link",domProps:{textContent:e._s(e.showLanguage("document","top"))},on:{click:function(t){return e.$emit("pma-main-panel-scroll",{})}}})])])])])])},rt=[],it={name:"LoginUser",props:["user","account"],data:function(){return{collapsed:!0}},computed:{hasMessage:function(){return this.user.message},setMessage:function(){return this.user.message&&-1===this.user.message.indexOf("Success:")?this.user.message:""},hasSuccess:function(){return this.user.message&&-1===this.user.message.indexOf("Success:")?"":this.user.message},showActivate:function(){return"0"===this.user.active}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},collapseUser:function(){this.collapsed=!this.collapsed},showBool:function(e){return 1===e||"1"===e?"True":"False"}}},ct=it,lt=(s("69a8"),Object(g["a"])(ct,nt,rt,!1,null,null,null)),ut=lt.exports,dt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("p",{directives:[{name:"show",rawName:"v-show",value:e.hasMessage,expression:"hasMessage"}],staticClass:"form-error"},[e._v(e._s(e.user.message))]),s("table",{staticClass:"bordered users"},[s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","id"))}}),s("td",{on:{click:e.collapseUser}},[e._v(" "+e._s(e.user._id)+" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"user-collapse u-pull-right",attrs:{title:e.showLanguage("users","collapse")}},[s("img",{attrs:{src:"img/sort-asc-dark.svg",alt:"Collapse user"}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"user-collapse u-pull-right",attrs:{title:e.showLanguage("users","expand")}},[s("img",{attrs:{src:"img/sort-desc-dark.svg",alt:"Expand user"}})])])]),s("tr",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]},[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","userId"))}}),s("td",[e._v(e._s(e.user.userId))])]),s("tr",[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","username"))}}),s("td",[e._v(e._s(e.user.user))])]),e._l(e.user.roles,(function(t,a){return s("tr",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],key:a,attrs:{role:t}},[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","role"))}}),s("td",{staticClass:"text-center"},[s("span",{staticClass:"to-lower",domProps:{textContent:e._s(e.showLanguage("database","db"))}}),e._v(": "+e._s(t.db)+", "),s("span",{staticClass:"to-lower",domProps:{textContent:e._s(e.showLanguage("users","role"))}}),e._v(": "+e._s(t.role))])])})),s("tr",{directives:[{name:"show",rawName:"v-show",value:!e.hasRootRole,expression:"!hasRootRole"}]},[s("th",{staticClass:"bb",domProps:{textContent:e._s(e.showLanguage("users","actions"))}}),s("td",[s("span",{staticClass:"pma-link",domProps:{textContent:e._s(e.showLanguage("global","edit"))},on:{click:function(t){return e.$emit("edit-user",[e.user._id,"database",e.user._id])}}}),e._v(" | "),s("span",{staticClass:"pma-link-danger",domProps:{textContent:e._s(e.showLanguage("global","delete"))},on:{click:function(t){return e.$emit("delete-user",[e.user._id,"database",e.user._id])}}}),s("span",{staticClass:"doc-right-to-top"},[s("span",{staticClass:"pma-link",domProps:{textContent:e._s(e.showLanguage("document","top"))},on:{click:function(t){return e.$emit("pma-main-panel-scroll",{})}}})])])])],2)])},mt=[],gt={name:"DatabaseUser",props:["user"],data:function(){return{activate:null,collapsed:!0}},computed:{hasRootRole:function(){return this.user.roles.find((function(e){return"root"===e.role}))},hasMessage:function(){return this.user.message}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},collapseUser:function(){this.collapsed=!this.collapsed},showBool:function(e){return 1===e||"1"===e?"True":"False"}}},ht=gt,pt=(s("c6fd"),Object(g["a"])(ht,dt,mt,!1,null,null,null)),ft=pt.exports,vt={name:"UsersView",components:{RoleSelector:Ze,RoleSelectorEdit:ot,LoginUser:ut,DatabaseUser:ft},props:["account"],data:function(){return{action:{id:null,type:null,user:null,key:null},createNew:!1,databaseUsers:[],display:{current:"login",last:null},editing:!1,editPassword:!1,enable:!0,error:null,errorData:null,fieldCache:{name:null,value:null},form:{active:!1,database:"admin",editPassword:!1,email:null,id:null,isAdmin:0,name:null,password:null,password2:null,roles:[],type:"login",user:null},hideNonAdminTypes:!1,index:0,limit:55,loginUsers:[],message:null,roleCount:1,show:!1,showEmail:!0,updated:[]}},computed:{displayPassword:function(){return!0===this.createNew||!0===this.form.editPassword},getUserCount:function(){return this.$store.getters.getUsersCount},isAdminAccount:function(){return"1"===this.account.admin_user},isEnabled:function(){return this.enable},showHideFields:function(){return"login"===this.form.type||"both"===this.form.type},watchIsAdmin:function(){return"1"===this.form.isAdmin||!0===this.form.isAdmin},getRoles:function(){return this.form.roles}},methods:{showLanguage:function(e,t,s){if(s){var a=this.$store.getters.getLanguageString(e,t);return a.replace("%s",s)}return this.$jqf().nl2br(this.$store.getters.getLanguageString(e,t))},setDisplay:function(e){this.display.last=this.display.current,this.display.current=e||""},showForm:function(e){!0===this.editing&&this.reset(),!0===e?this.editing=!this.editing:this.createNew=!this.createNew,this.createNew||this.editing?this.setDisplay():this.setDisplay(this.getDisplay())},closeForm:function(){this.createNew=this.editing=!1,this.setDisplay(this.getDisplay()),this.reset()},addRole:function(){this.roleCount+=1,!0===this.editing&&(this.fieldCache={name:"roles",value:this.form.roles},this.form.roles.push(""))},removeRole:function(e){if(this.roleCount>1){var t=this.form.roles;this.form.roles=t.filter((function(t){return t!==e})),this.roleCount-=1}},cleanRoles:function(){var e,t=this.form.roles,s=[];for(e=0;e<t.length;e++)console.log("cleaning: "+t[e]),t[e]&&t[e].length>=1&&s.push(t[e]);this.form.roles=s},validateRoles:function(){var e,t,s,a=this.form.roles;for(s=0;s<a.length;s++)"readAnyDatabase"===a[s]&&(e=!0),"readWriteAnyDatabase"===a[s]&&(t=!0),e&&t&&(this.removeRole("readAnyDatabase"),this.error=this.showLanguage("errors","users.incompatibleRoles"));this.editing&&!this.error&&this.pushToUpdate("roles")},updateRole:function(e,t){function s(t){return t===e}console.log("received index: "+t),e!==this.form.roles.find(s)&&(this.form.roles[t]=e),this.validateRoles()},getAllUsers:function(){this.$store.dispatch("loadUsers"),this.handleGetAll()},handleGetAll:function(){var e=this,t=this.$store.getters.getUsersLoadStatus;1===t&&this.index<this.limit&&(this.index+=1,setTimeout((function(){e.handleGetAll()}),200)),2===t&&this.loadUsers(),3===t&&(this.errorData=this.$store.getters.getUserErrorData,"Forbidden"===this.errorData.data.errors.error&&"failed"===this.errorData.data.message?(i["a"].$emit("show-error",{notification:this.showLanguage("errors","users.user-manage-permission")}),this.enable=!1,this.error=this.showLanguage("errors","users.user-manage-permission")):i["a"].$emit("show-error",{notification:this.showLanguage("errors","processing")}))},loadUsers:function(){var e=this.$store.getters.getUsers;this.loginUsers=e["loginUsers"],this.databaseUsers=e["databaseUsers"]},setActiveStatus:function(e,t){var s="0"===e[3]?"1":"0";this.action={action:"activate",id:e[0],type:e[1],user:e[2],key:t,active:s},this.form.id=e[0],this.form.type=e[1],this.form.user=e[2],this.form.active=s,this.updated.push({key:"active"}),this.saveEdit()},getBoolean:function(e){return"1"===e||1===e||!0===e},edit:function(e,t){var s=this;this.action={id:e[0],type:e[1],user:e[2],key:t};var a="login"===this.action.type?this.loginUsers[this.action.key]:this.databaseUsers[this.action.key];this.form.active=a.active,this.form.database="admin",this.form.editPassword=!1,this.form.email="login"===this.action.type?a.email:null,this.form.id=this.action.id,this.form.isAdmin=this.getBoolean(a.admin_user),this.form.name="login"===this.action.type?a.name:null,this.form.password=null,this.form.password2=null,this.form.roles=[],this.form.type=this.action.type,this.form.user=a.user,"database"===this.action.type&&a.roles.forEach((function(e){s.form.roles.push(e.role)})),this.showForm(!0)},saveEdit:function(){this.form.updated=this.updated,this.$store.dispatch("editUser",this.form),this.handleEdit()},handleEdit:function(){var e=this,t=this.$store.getters.getUserSaveStatus;1===t&&setTimeout((function(){e.handleEdit()}),250),2===t&&this.handleEditSuccess(),3===t&&this.setEditMessage(t)},setEditMessage:function(e){3===e&&"activate"===this.action.action&&this.setUserMessage(this.showLanguage("users","activateFailed"))},handleEditSuccess:function(){var e=this;"activate"===this.action.action?this.loginUsers=this.loginUsers.map((function(t){return t.id===e.action.id&&(t.active=e.action.active,t.message=e.showLanguage("users","activateSuccess")),t})):(this.updated.forEach((function(t){"login"===e.action.type&&(e.loginUsers[e.action.key][t.key]=e.form[t.key]),"database"===e.action.type&&(e.databaseUsers[e.action.key][t.key]=e.form[t.key])})),this.setUserMessage(this.showLanguage("users","updateSuccess",this.$store.getters.getUpdated))),this.reset(5500)},validateUser:function(){if(!this.form.user)return this.error=this.showLanguage("errors","global.userRequired"),!1;if(!this.form.password)return this.error=this.showLanguage("errors","global.passwordRequired"),!1;if(this.form.password.length<this.$store.getters.getMinPwdLength)return this.error=this.showLanguage("errors","global.passwordLength",this.$store.getters.getMinPwdLength),!1;if(this.form.password!==this.form.password2)return this.error=this.showLanguage("errors","global.passwordMatch"),!1;var e=new RegExp(this.form.user,"ig");if(-1!==this.form.password.search(e))return this.error=this.showLanguage("errors","users.password-content"),!1;if(!this.form.type)return this.error=this.showLanguage("errors","users.type"),!1;if("login"===this.form.type||"both"===this.form.type){if(null===this.form.email)return this.error=this.showLanguage("errors","users.email"),!1;if(!this.form.name)return this.error=this.showLanguage("errors","users.name"),!1}return"both"!==this.form.type&&"database"!==this.form.type||0!==this.form.roles.length||(this.error=this.showLanguage("errors","users.role"),!1)},validateEdit:function(){return this.form.id?0===this.updated.length?(this.error=this.showLanguage("errors","global.noFieldUpdated"),!1):void 0:(this.error=this.showLanguage("errors","global.idRequired"),!1)},saveUser:function(){var e=this;this.clearMessages(0),setTimeout((function(){e.validateUser()&&(e.$store.dispatch("createUser",e.form),e.handleSave())}),100)},handleSave:function(){var e=this,t=this.$store.getters.getUserSaveStatus;if(1===t&&this.index<this.limit&&(this.index+=1,setTimeout((function(){e.handleSave()}),200)),2===t&&(this.message=this.showLanguage("users","saveSuccess"),this.reset(3e3)),3===t){var s=this.$store.getters.getUserErrorMessage;this.error=s.user?s.user[0]:s.message?s.message:this.showLanguage("users","processing"),setTimeout((function(){e.clearMessages(0)}),5e3)}},activate:function(e){console.log("activate: "+e)},deleteUser:function(e,t){this.clearMessages(0),this.action={id:e[0],type:e[1],user:e[2],key:t},i["a"].$emit("delete-confirmation",{id:e[0],element:"user",notification:this.showLanguage("users","deleteConfirm",e[2])})},deleteConfirmed:function(){this.$store.dispatch("deleteUser",this.action),this.handleDeletion()},handleDeletion:function(){var e=this,t=this.$store.getters.getUserDeleteStatus;if(1===t&&this.index<this.limit&&(this.index+=1,setTimeout((function(){e.handleDeletion()}),200)),2===t&&(this.message=this.showLanguage("users","deleteSuccess")),3===t){var s=this.$store.getters.getUserErrorMessage;this.setUserMessage(s.error),setTimeout((function(){e.clearMessages(0)}),5e3)}},getDisplay:function(e){return e?"database"===this.form.type?"database":"login":this.display.current?this.display.current:this.display.last},clearActive:function(){this.action={id:null,type:null,user:null,key:null}},clearMessages:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.clearUserMessage(),setTimeout((function(){e.error=!1,e.message=!1}),t)},setUserMessage:function(e){this.message=e,"login"===this.action.type&&(this.loginUsers[this.action.key].message=e),"database"===this.action.type&&(this.databaseUsers[this.action.key].message=e)},clearUserMessage:function(){"login"===this.action.type&&this.loginUsers[this.action.key]&&(this.loginUsers[this.action.key].message=""),"database"===this.action.type&&this.databaseUsers[this.action.key]&&(this.databaseUsers[this.action.key].message="")},reset:function(e){this.createNew=this.editing=this.hideNonAdminTypes=!1,this.clearMessages(e),this.setDisplay(this.getDisplay(!0)),this.clearActive(),this.updated=[],this.form={active:!1,database:"admin",editPassword:!1,email:null,id:null,isAdmin:0,name:null,password:null,password2:null,roles:[],type:"login",user:null}},handleAdminUser:function(){!0===this.form.isAdmin?(this.form.type="login",this.hideNonAdminTypes=!0):this.hideNonAdminTypes=!1},scrollToTop:function(){i["a"].$emit("pma-main-panel-scroll",{})},onFocus:function(e,t){this.editing&&("roles"===t&&(console.log("its a role"),this.fieldCache={name:"roles",value:this.form.roles},console.log(this.fieldCache.name)),"roles"!==t&&(this.fieldCache={name:t,value:e.target.value}))},onBlur:function(e,t){this.editing&&("roles"===t&&(console.log("blur: roles"),this.cleanRoles(),this.form.roles.length!==this.fieldCache.value.length&&this.pushToUpdate("roles")),t||e.target.value!==this.fieldCache.value&&this.pushToUpdate(this.fieldCache.name),this.fieldCache={name:null,value:null})},pushToUpdate:function(e){function t(t){return t===e}e!==this.updated.find(t)&&this.updated.push(e)},errorTimer:function(){var e=this;setTimeout((function(){e.error=""}),5e3)},showComponent:function(){this.show=!0},hideComponent:function(){this.show=!1}},mounted:function(){var e=this;i["a"].$on("hide-panels",(function(){e.hideComponent()})),i["a"].$on("show-users",(function(){e.showComponent(),e.getAllUsers()})),i["a"].$on("confirm-delete-user",(function(t){e.deleteConfirmed(t)})),i["a"].$on("cancel-delete-user",(function(){e.clearActive()}))},watch:{getUserCount:function(){this.loadUsers()},watchIsAdmin:function(){this.handleAdminUser()},watchError:function(){this.error&&this.errorTimer()}}},Ct=vt,wt=(s("e383"),Object(g["a"])(Ct,Ge,Ke,!1,null,null,null)),bt=wt.exports,St=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"pma-servers-panel align-left",attrs:{id:"pma-servers-view"}},[e._m(0)])},Lt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"servers-inner"},[s("p",[e._v("Master view")])])}],_t={name:"MasterView",data:function(){return{show:!1,server:{},form:{host:null,port:27017,username:null,password:null,password2:null,active:null},message:null,error:null}},computed:{getServers:function(){return this.$store.getters.getServers}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},showComponent:function(){this.$store.dispatch("loadServers"),this.show=!0},hideComponent:function(){this.show=!1}},mounted:function(){var e=this;i["a"].$on("hide-panels",(function(){e.hideComponent()})),i["a"].$on("show-master",(function(){e.showComponent()}))}},yt=_t,xt=(s("28b4"),Object(g["a"])(yt,St,Lt,!1,null,null,null)),$t=xt.exports,Pt={name:"ServersMain",components:{ServersView:we,ExecuteView:xe,StatusView:ke,ProcessesView:Re,CommandView:Ve,UsersView:bt,MasterView:$t},computed:{getUser:function(){return this.$store.getters.getUser}}},Dt=Pt,Nt=(s("4f79"),Object(g["a"])(Dt,re,ie,!1,null,null,null)),Ut=Nt.exports,kt={components:{ServersMain:Ut},data:function(){return{expanded:!1,scrolled:!1,collectionActive:!1}},computed:{watchCollection:function(){return this.$store.getters.getActiveCollection}},methods:{handleLeftNav:function(){this.expanded=!this.expanded,!0===this.expanded&&(this.$jqf(this.$refs.pmaMainPanel).css("margin-left","5px"),this.$jqf(this.$refs.pmaMainPanel).css("width","99vw"),this.$jqf(this.$refs.pmaInner).css("width","100vw")),!1===this.expanded&&(this.$jqf(this.$refs.pmaMainPanel).css("margin-left","245px"),this.$jqf(this.$refs.pmaMainPanel).css("width","calc(100vw - 262px)"),this.$jqf(this.$refs.pmaInner).css("width","calc(100vw - 262px)"))},handleScroll:function(e){var t=e.target.scrollTop;!0===this.collectionActive&&(t>=389&&!1===this.scrolled&&(this.scrolled=!0,i["a"].$emit("lockCollectionPagination",!0)),t<=388&&!0===this.scrolled&&(this.scrolled=!1,i["a"].$emit("lockCollectionPagination",!1)))},setActiveCollection:function(){this.collectionActive=!this.collectionActive},scrollToTop:function(){var e=this.$refs.pmaMainPanel,t=e.scrollTop;t>1&&e.scrollTo(0,0)}},mounted:function(){var e=this;i["a"].$on("collapse-left-nav",(function(){e.handleLeftNav()})),i["a"].$on("expand-left-nav",(function(){e.handleLeftNav()})),i["a"].$on("pma-main-panel-scroll",(function(){e.scrollToTop()}))},watch:{watchCollection:function(){this.setActiveCollection()}}},At=kt,Et=(s("22b5"),Object(g["a"])(At,oe,ne,!1,null,null,null)),Tt=Et.exports,It={components:{DbsView:j,TopView:ae,PanelView:Tt},data:function(){return{errorMessage:null,show:!0}},mounted:function(){var e=this;setTimeout((function(){e.$store.dispatch("loadDatabases")}),250)}},Mt=It,Rt=(s("4a9a"),Object(g["a"])(Mt,a,o,!1,null,null,null));t["default"]=Rt.exports},"366d":function(e,t,s){"use strict";s("b3a6")},"3be1":function(e,t,s){"use strict";s("2e8e")},"3fd6":function(e,t,s){},"406d":function(e,t,s){},4360:function(e,t,s){"use strict";var a=s("a026"),o=s("2f62"),n=(s("bf19"),s("7db0"),s("d81d"),s("b0c0"),s("ac1f"),s("1276"),s("5530")),r=s("db49"),i={getUser:function(e){return a["a"].prototype.$http.get(r["a"].API_URL+"/users/"+e)},getUsers:function(){return a["a"].prototype.$http.get(r["a"].API_URL+"/users/all")},getUserByIri:function(e){return a["a"].prototype.$http.get(r["a"].SERVER+e,{withCredentials:!0})},putUpdateUser:function(e){return a["a"].prototype.$http.put(r["a"].API_URL+"/users",Object(n["a"])({},e))},postUser:function(e){var t={active:e.active,database:e.database,isAdmin:e.isAdmin,password:e.password,password2:e.password2,roles:e.roles,type:e.type,user:e.user};return e.email&&(t.email=e.email),e.name&&(t.name=e.name),a["a"].prototype.$http.post(r["a"].API_URL+"/users",Object(n["a"])({},t))},deleteUser:function(e){return window.axios.delete(r["a"].API_URL+"/users/"+e.id+"/"+e.type+"/"+e.user+"?uid="+e.id)},loginUser:function(e){return a["a"].prototype.$http.post(r["a"].API_URL+"/auth/login",Object(n["a"])(Object(n["a"])({},e),{},{_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]}),{withCredentials:!0,crossDomain:!0,xhrFields:{withCredentials:!0}})},logoutUser:function(){return a["a"].prototype.$http.get(r["a"].API_URL+"/auth/logout/")},fetchUser:function(e){return window.axios.get(r["a"].API_URL+"/users/fetch/"+e)},checkEmail:function(e){return a["a"].prototype.$http.get(r["a"].API_URL+"/users/email/"+e)},getUserLocation:function(){return a["a"].prototype.$http.get(r["a"].API_URL+"/users/location")}},c={checkSetup:function(){return a["a"].prototype.$http.get(r["a"].API_URL+"/setup")},createControlUser:function(e){return a["a"].prototype.$http.post(r["a"].API_URL+"/setup",{country:e.country,name:e.name,user:e.user,email:e.email,password:e.password})},getStates:function(e){return a["a"].prototype.$http.get(r["a"].API_URL+"/setup/states/"+e)}},l={state:{activeNav:null,appConfig:{minPwdLength:5},controlUserStatus:0,currentLocation:{},country:JSON.parse(sessionStorage.getItem("country"))||"AU",countryName:JSON.parse(sessionStorage.getItem("country_name"))||"Australia",countries:{},errorData:null,language:JSON.parse(localStorage.getItem("language"))||"en",languages:["en","zh"],languageOptions:[{value:"en",name:"English"},{value:"zh",name:"Chinese"},{value:"jp",name:"Japanese"}],languageStatus:0,languageArray:{},location:{},locationStatus:0,postcode:"",setup:!1,setupStatus:0,states:[],suburb:""},actions:{checkSetup:function(e){var t=e.commit;t("setSetupStatus",1),c.checkSetup().then((function(e){e.data.iri?t("setSetup",{iri:e.data.iri}):t("setSetup",!0),t("setSetupStatus",2),console.log(e.status),console.log(e.data.message)})).catch((function(e){e.isAxiosError&&void 0==e.response?(console.log("application.js checkSetup set error: Network Error"),t("setAppErrorData",{error:"Unable to connect to API",status:404}),t("setSetupStatus",3)):(t("setSetup",!1),t("setSetupStatus",3))}))},createControlUser:function(e,t){var s=e.commit;s("setControlUserStatus",1),c.createControlUser(t).then((function(){s("setControlUserStatus",2),s("setSetup",!0)})).catch((function(e){s("setControlUserStatus",3),console.error(e.toJSON())}))},getLocation:function(e){var t=e.commit,s=e.dispatch;if(t("setLocationStatus",1),sessionStorage.getItem("location")){var a=JSON.parse(window.sessionStorage.getItem("location"));t("setLocation",a),t("setLocationStatus",2),s("applyCurrentLocation",{location:a}),s("getStates",a.country)}else i.getUserLocation().then((function(e){if(e.data.ip){var a={};a.ip=e.data.ip,a.city=e.data.city,a.country=e.data.country,a.country_name=e.data.country_name,a.region=e.data.region,a.postal=e.data.postal,t("setLocation",e.data),t("setLocationStatus",2),s("applyCurrentLocation",{location:a}),sessionStorage.setItem("location",JSON.stringify(e.data))}else t("setLocation",{}),t("setLocationStatus",3)})).catch((function(e){e.isAxiosError&&void 0==e.response?(console.log("application.js getLocation set error: Network Error"),t("setAppErrorData",{error:"Unable to connect to API",status:404})):console.error(e.toJSON()),t("setLocation",{}),t("setLocationStatus",3)}))},applyCurrentLocation:function(e,t){var s=e.commit;if(t.location){var a={};a.city=t.location.city,a.state=t.location.region,a.postcode=t.location.postal,a.country=t.location.country_name,a.code=t.location.country,s("setCurrentLocation",a)}else console.log("current location cannot be set: "+t.location)},setLanguage:function(e,t){var s=e.commit,a=e.state;s("setLanguageStatus",0),console.log("language passed to set: "+t),a.languages.find((function(e){return e===t}))?(s("setLanguage",t),localStorage.setItem("language",JSON.stringify(t)),s("setLanguageArray"),s("setLanguageStatus",2),console.log("language GTG!")):(s("setLanguageStatus",3),console.log("language not found in array!!"))},commitLanguage:function(e,t){var s=e.commit;s("setLanguageStatus",0),s("setLanguage",t),s("setLanguageArray"),s("setLanguageStatus",2)},setDefaultLanguage:function(e){var t=e.commit;t("setLanguageStatus",0),t("setLanguageArray"),t("setLanguageStatus",2)},setCountryNameFromCookie:function(e,t){var s=e.commit;s("setCountryName",t)},setCountryByCode:function(e,t){var s=e.commit;s("setCountryByCode",t)},setCountries:function(e,t){var s=e.commit;s("setCountries",t)},getStates:function(e,t){var s=e.commit;i.getStates(t).then((function(e){s("setStates",e.data.states)})).catch((function(e){console.log(e.toJSON())}))},setActiveNav:function(e,t){var s=e.commit;console.log("setting active nav: "+t),s("setActiveNav",t)},setErrorData:function(e,t){var s=e.commit;s("setAppErrorData",t)},clearAppErrorData:function(e){var t=e.commit;t("setAppErrorData",null)}},mutations:{setLanguageStatus:function(e,t){e.languageStatus=t},setLanguage:function(e,t){e.language=t},setLanguageArray:function(e){var t=JSON.parse(localStorage.getItem("language"))||e.language,s=[];t?("en-US"===t&&(t="en"),console.log("initialising language: "+t),window.i18n[t]&&(s=window.i18n[t]),localStorage.setItem("language",JSON.stringify(t))):(console.log("setting default language: en"),s=window.i18n["en"]),e.languageArray=s},setSetupStatus:function(e,t){e.setupStatus=t},setSetup:function(e,t){e.setup=t},setControlUserStatus:function(e,t){e.controlUserStatus=t},setLocationStatus:function(e,t){e.locationStatus=t},setLocation:function(e,t){e.location=t},setLocationFromCache:function(e,t){e.location=t},setCurrentLocation:function(e,t){e.currentLocation=t},setCurrentLocationFromCache:function(e,t){e.currentLocation=t},setCountryName:function(e,t){e.countryName=t},setCountries:function(e,t){e.countries=t},setCountryByCode:function(e,t){console.log("code: "+t);var s,a=e.countries;a.map((function(e){e.code===t&&(console.log("matched code.."),s=e)})),console.log("country: "+s),e.country=s.code,e.countryName=s.name},setStates:function(e,t){e.states=t},setPostcode:function(e,t){e.postcode=t},setSuburb:function(e,t){e.suburb=t},setActiveNav:function(e,t){e.activeNav=t},setAppErrorData:function(e,t){e.errorData=t}},getters:{getLanguageStatus:function(e){return e.languageStatus},getLanguage:function(e){return e.language},getLanguageArray:function(e){return e.languageArray},getLanguageString:function(e){return function(t,s){if(e.languageArray[t])if(-1!==s.indexOf(".")){var a=s.split(".");if(e.languageArray[t][a[0]]){if(e.languageArray[t][a[0]][a[1]])return e.languageArray[t][a[0]][a[1]];console.log("no secondary key: "+a[1])}else console.log("no primary key: "+a[0])}else{if(e.languageArray[t][s])return e.languageArray[t][s];console.log("no key: "+s)}else console.log("no context: "+t)}},getLanguageOptions:function(e){return e.languageOptions},getLocationStatus:function(e){return e.locationStatus},getSetupStatus:function(e){return e.setupStatus},getSetup:function(e){return e.setup},getControlUserStatus:function(e){return e.controlUserStatus},getLocation:function(e){return e.location},getCurrentLocation:function(e){return e.currentLocation},getCountry:function(e){return e.country},getCountryName:function(e){return e.countryName},getCountries:function(e){return e.countries},getStates:function(e){return e.states},getCurrentStateCode:function(e){return function(t){var s=e.states.find((function(e){return e.name===t}));return s?s.code:t}},getState:function(e){return e.currentLocation.state},getActiveNav:function(e){return e.activeNav},getMinPwdLength:function(e){return e.appConfig.minPwdLength},getAppErrorData:function(e){return e.errorData}}},u={state:{showFilters:!0,showPopOut:!1,zoomLevel:"",lat:0,lng:0},actions:{toggleShowFilters:function(e,t){var s=e.commit;s("setShowFilters",t.showFilters)},toggleShowPopOut:function(e,t){var s=e.commit;s("setShowPopOut",t.showPopOut)},applyZoomLevel:function(e,t){var s=e.commit;s("setZoomLevel",t)},applyLat:function(e,t){var s=e.commit;s("setLat",t)},applyLng:function(e,t){var s=e.commit;s("setLng",t)}},mutations:{setShowFilters:function(e,t){e.showFilters=t},setShowPopOut:function(e,t){e.showPopOut=t},setZoomLevel:function(e,t){e.zoomLevel=t},setLat:function(e,t){e.lat=t},setLng:function(e,t){e.lng=t}},getters:{getShowFilters:function(e){return e.showFilters},getShowPopOut:function(e){return e.showPopOut},getZoomLevel:function(e){return e.zoomLevel},getLat:function(e){return e.lat},getLng:function(e){return e.lng}}},d={state:{cityFilter:"",textSearch:"",orderBy:"name",orderDirection:"asc"},actions:{updateCityFilter:function(e,t){var s=e.commit;s("setCityFilter",t)},updateSetTextSearch:function(e,t){var s=e.commit;s("setTextSearch",t)},updateOrderBy:function(e,t){var s=e.commit,a=e.state,o=e.dispatch;s("setOrderBy",t),o("orderCafes",{order:a.orderBy,direction:a.orderDirection})},updateOrderDirection:function(e,t){var s=e.commit,a=e.state,o=e.dispatch;s("setOrderDirection",t),o("orderCafes",{order:a.orderBy,direction:a.orderDirection})},resetFilters:function(e){var t=e.commit;t("resetFilters")}},mutations:{setCityFilter:function(e,t){e.cityFilter=t},setTextSearch:function(e,t){e.textSearch=t},setOrderBy:function(e,t){e.orderBy=t},setOrderDirection:function(e,t){e.orderDirection=t},resetFilters:function(e){e.cityFilter="",e.textSearch="",e.orderBy="created",e.orderDirection="desc"}},getters:{getCityFilter:function(e){return e.cityFilter},getTextSearch:function(e){return e.textSearch},getOrderBy:function(e){return e.orderBy},getOrderDirection:function(e){return e.orderDirection}}},m=(s("159b"),{getDatabases:function(){return a["a"].prototype.$http.get(r["a"].API_URL+"/databases")},getDatabase:function(e){return a["a"].prototype.$http.get(r["a"].API_URL+"/databases/"+e)},createDatabase:function(e){return a["a"].prototype.$http.post(r["a"].API_URL+"/databases/create",{database:e,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},deleteDatabase:function(e){return a["a"].prototype.$http.post(r["a"].API_URL+"/databases/delete",{names:e,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},databaseCommand:function(e){return a["a"].prototype.$http.post(r["a"].API_URL+"/databases/"+e.database+"/command",{database:e.database,params:e.params,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})}}),g=s("81f6"),h={state:{activeDatabase:null,commandLoadStatus:0,commandResults:[],databases:[],databasesLoadStatus:0,database:{},databaseLoadStatus:0,displayDatabase:{},displayDatabaseStatus:0,dbCollection:{},dbCollectionStatus:0,createDatabaseStatus:0,deleteDatabaseStatus:0,errorData:{}},actions:{loadDatabases:function(e){var t=e.commit;t("setDatabasesLoadStatus",1),m.getDatabases().then((function(e){!0===e.data.success?(t("setDatabases",e.data.databases),t("setDatabasesLoadStatus",2)):(console.log(e.data.errors),t("setErrorData",e.data.errors),t("setDatabasesLoadStatus",3))})).catch((function(e){t("setDatabases",[]),t("setDatabasesLoadStatus",3),t("setErrorData",e.response.data),e.response&&(console.log("check setup error response message: "+e.response.data.message),console.log("check setup error response data.errors: "+e.response.data.errors[0]),console.log("check setup error response status: "+e.response.status),console.log("check setup error response headers: "+e.response.headers)),g["a"].$emit("no-results-found",{notification:"No databases were returned from the api - please try again later"})}))},loadDatabase:function(e,t){var s=e.commit,a=e.dispatch;s("setDatabaseLoadStatus",1),s("setDatabase",{}),m.getDatabase(t).then((function(e){s("setActiveDatabase",t),s("setDatabase",e.data.database),s("setDatabaseLoadStatus",2);var o=e.data.data.database.collections;a("setDbCollections",o)})).catch((function(e){s("setDatabase",{}),s("setDatabaseLoadStatus",3),s("setErrorData",e.response.data),e.response&&(console.log("check setup error response message: "+e.response.data.message),console.log("check setup error response data.errors: "+e.response.data.errors[0]),console.log("check setup error response status: "+e.response.status),console.log("check setup error response headers: "+e.response.headers)),g["a"].$emit("no-results-found",{notification:"No database was returned from the api - please try again later"})}))},clearDatabase:function(e){var t=e.commit;t("clearDatabaseObject")},createDatabase:function(e,t){var s=e.commit;s("setCreateDatabaseStatus",1),m.createDatabase(t).then((function(e){s("setCreatedDatabase",e.data.database),s("setCreateDatabaseStatus",2)})).catch((function(e){s("setCreateDatabaseStatus",3),s("setErrorData",e.response.data),e.response&&(console.log("check setup error response message: "+e.response.data.message),console.log("check setup error response data.errors: "+e.response.data.errors[0]),console.log("check setup error response status: "+e.response.status),console.log("check setup error response headers: "+e.response.headers))}))},deleteDatabase:function(e,t){var s=e.commit;s("setDeleteDatabaseStatus",1),m.deleteDatabase(t).then((function(){s("setDeletedDatabase",t),s("setDeleteDatabaseStatus",2)})).catch((function(e){s("setDeleteDatabaseStatus",3),s("setErrorData",e),console.log(e)}))},databaseCommand:function(e,t){var s=e.commit;s("setCommandLoadStatus",1),m.databaseCommand(t).then((function(e){!0===e.data.success?(s("setCommandResults",e.data.results),s("setCommandLoadStatus",2)):(s("setErrorData",e.data.errors),s("setCommandLoadStatus",3))})).catch((function(e){s("setCommandLoadStatus",3),s("setCommandResults",[]),s("setErrorData",e),console.log(e)}))},getDbCollection:function(e,t){var s=e.commit;s("setDbCollectionStatus",1),s("findDbCollection",t)},setCollection:function(e,t){var s=e.commit;s("setCollectionToDatabase",t)},dropCollection:function(e,t){var s=e.commit;s("setDropCollectionFromDatabase",t)},setActiveDatabase:function(e,t){var s=e.commit;s("setActiveDatabase",t)}},mutations:{setDatabasesLoadStatus:function(e,t){e.databaseLoadStatus=t},setDatabases:function(e,t){e.databases=t,e.database=t.find((function(e){return"admin"===e.db.name}))},setDatabaseLoadStatus:function(e,t){e.databaseLoadStatus=t},setDatabase:function(e,t){e.database=t},clearDatabaseObject:function(e){e.database={}},setDisplayDatabase:function(e,t){e.displayDatabase=t},setDisplayDatabaseStatus:function(e,t){e.displayDatabaseStatus=t},setCreateDatabaseStatus:function(e,t){e.createDatabaseStatus=t},setCreatedDatabase:function(e,t){e.databases.push(t)},setDeleteDatabaseStatus:function(e,t){e.deleteDatabaseStatus=t},setDeletedDatabase:function(e,t){t.forEach((function(t){e.databases=e.databases.map((function(e){return e.db.name!==t}))}))},setErrorData:function(e,t){e.errorData=t},setCollectionToDatabase:function(e,t){e.database&&e.database.collections&&e.database.collections.push(t),e.databases&&e.databases.forEach((function(s,a){if(s.db.name===t.collection.databaseName)return e.databases[a].collections.push(t),!0}))},setActiveDatabase:function(e,t){e.activeDatabase=t},setDropCollectionFromDatabase:function(e,t){var s=t.database,a=t.collection,o=[],n=e.database.collections;n.forEach((function(e){e.collection.name!==a&&e.collection.collectionName!==a&&o.push(e)})),e.database.collections=o,e.databases.forEach((function(t,r){if(t.db.name===s)return n=t.collections,o=[],n.forEach((function(e){e.collection.name!==a&&e.collection.collectionName!==a&&o.push(e)})),t.collections=o,e.databases[r]=t,!0}))},setDbCollectionStatus:function(e,t){e.dbCollectionStatus=t},findDbCollection:function(e,t){var s=e.database.collections.find((function(e){return e.collection.name===t}));s?(e.dbCollection=s,e.dbCollectionStatus=2):e.dbCollectionStatus=3},setCommandLoadStatus:function(e,t){e.commandLoadStatus=t},setCommandResults:function(e,t){e.commandResults=t}},getters:{getDatabasesLoadStatus:function(e){return e.databasesLoadStatus},getDatabases:function(e){return e.databases},getDatabaseLoadStatus:function(e){return e.databaseLoadStatus},getDatabase:function(e){return e.database},getDisplayDatabaseStatus:function(e){return e.displayDatabaseStatus},getDisplayDatabase:function(e){return function(t){if(console.log("getDisplayDatabase: "+t),e.database&&""!==e.database.id)return console.log("database found!!"),e.database;var s=e.database.find((function(e){return e.id===t}));return s?(console.log("setting display database state: "+t),e.displayDatabaseStatus=t,e.displayDatabase=s,s):void 0}},getCreateDatabaseStatus:function(e){return e.createDatabaseStatus},getDeleteDatabaseStatus:function(e){return e.deleteDatabaseStatus},getStats:function(e){if(e.database)return e.database.stats},getErrorData:function(e){return e.errorData},getActiveDatabase:function(e){return e.activeDatabase},getDbCollectionStatus:function(e){return e.dbCollectionStatus},getDbCollection:function(e){return e.dbCollection},getCommandLoadStatus:function(e){return e.commandLoadStatus},getCommandResults:function(e){return e.commandResults}}},p=(s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("5319"),void 0),f=a["a"].prototype.$http,v={getCollection:function(e){return f.get(r["a"].API_URL+"/collection/"+e.database+"/"+e.collection)},createCollection:function(e){return f.post(r["a"].API_URL+"/collection/create",{name:e.name,capped:e.capped,count:parseInt(e.count,10),size:parseInt(e.size,10),database:e.db,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},deleteCollection:function(e){return f.post(r["a"].API_URL+"/collection/delete",{database:e.database,collection:e.collection,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},clearCollection:function(e){return f.post(r["a"].API_URL+"/collection/clear",{database:e.database,collection:e.collection,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},exportCollectionDownload:function(e){return f({url:r["a"].API_URL+"/collection/export",method:"POST",responseType:"blob",data:{database:e.database,params:e.params,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]}})},exportCollectionView:function(e){return f.post(r["a"].API_URL+"/collection/export",{database:e.database,params:e.params,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},importCollection:function(e){var t=new FormData;return t.append("database",e.database),t.append("collection",e.collection),t.append("file",e.params.file),t.append("type",e.params.selected),t.append("gzip",e.params.gzip),t.append("useCurrentCollection",e.params.useCurrentCollection),t.append("_token",window.axios.defaults.headers.common["X-CSRF-TOKEN"]),f.post(r["a"].API_URL+"/collection/import",t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=0,s=parseInt(Math.round(e.loaded/e.total*100));s!==t&&(g["a"].$emit("upload-progress",s),t=s)}.bind(p)})},saveProperties:function(e){return f.post(r["a"].API_URL+"/collection/properties",{database:e.database,collection:e.collection,params:e.params,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},saveIndex:function(e){return f.post(r["a"].API_URL+"/collection/index",{database:e.database,collection:e.collection,params:e.params,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},renameCollection:function(e){return f.post(r["a"].API_URL+"/collection/rename",{database:e.database,collection:e.collection,params:e.params,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},duplicateCollection:function(e){return f.post(r["a"].API_URL+"/collection/duplicate",{database:e.database,collection:e.collection,params:e.params,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},validateCollection:function(e){return f.get(r["a"].API_URL+"/collection/validate/"+e.database+"/"+e.collection)},queryCollection:function(e){return f.post(r["a"].API_URL+"/collection/query",{params:e.params,format:e.format,collection:e.collection,database:e.database,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},getQueryLogs:function(e){return f.get(r["a"].API_URL+"/collection/query/logs/"+e.database+"/"+e.collection)},getQueryExplain:function(e){return f.post(r["a"].API_URL+"/collection/query/explain",{database:e.database,collection:e.collection,format:e.format,query:e.query,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},createDocument:function(e){return f.post(r["a"].API_URL+"/document/create",{document:e.document,format:e.format,collection:e.collection,database:e.database,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},duplicateDocument:function(e){return f.post(r["a"].API_URL+"/document/duplicate",{document:e.document,format:e.format,collection:e.collection,database:e.database,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},updateDocument:function(e){return f.put(r["a"].API_URL+"/document/update/"+e._id,{_id:e._id,index:parseInt(e.index,10),document:e.document,field:e.field,value:e.value,type:e.type,collection:e.collection,database:e.database,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},deleteDocument:function(e){return f.delete(r["a"].API_URL+"/document/"+e.db+"/"+e.collection+"/"+e._id)}},C={state:{activeCollection:null,collection:{},collectionLoadStatus:0,collections:[],collectionsLoadStatus:0,collectionPropertiesStatus:0,collectionRenameStatus:0,collectionDuplicateStatus:0,collectionIndexStatus:0,collectionIndex:null,collectionValidationStatus:0,collectionValidation:null,displayCollection:{},displayCollectionStatus:0,createCollectionStatus:0,deleteCollectionStatus:0,deletingCollection:null,deleteCollectionCount:0,clearCollectionStatus:0,clearCollectionCount:0,exportCollectionStatus:0,exportData:null,importCollectionStatus:0,queryLogs:[],queryLogsLoadStatus:0,queryExplain:{},queryExplainStatus:0,queryCollection:[],queryCollectionLoadStatus:0,documentCreateStatus:0,documentUpdateStatus:0,documentDeleteStatus:0,documentDuplicateStatus:0,currentFormat:"json",errorData:{}},actions:{loadCollections:function(e){var t=e.commit;t("setCollectionsLoadStatus",1),v.getCollections().then((function(e){t("setCollections",e.data.data.collections),t("setCollectionsLoadStatus",2)})).catch((function(e){t("setCollections",[]),t("setCollectionsLoadStatus",3),console.log(e),g["a"].$emit("no-results-found",{notification:"No collections were returned from the api - please try again later",timer:5e3})}))},loadCollection:function(e,t){var s=e.commit;s("setCollectionLoadStatus",1),v.getCollection(t).then((function(e){s("setCollection",e.data.data.collection),s("setCollectionLoadStatus",2)})).catch((function(e){s("setCollection",{}),s("setCollectionLoadStatus",3),console.log(e),g["a"].$emit("no-results-found",{notification:"No collection was returned from the api - please try again later",timer:5e3})}))},createCollection:function(e,t){var s=e.commit,a=e.dispatch;s("setCreateCollectionStatus",1),v.createCollection(t).then((function(e){s("setCreateCollectionStatus",2),a("setCollection",e.data.data.collection)})).catch((function(e){s("setCreateCollectionStatus",3),s("setErrorData",e),console.log(e)}))},queryCollection:function(e,t){var s=e.commit;s("setQueryCollectionLoadStatus",1),v.queryCollection(t).then((function(e){s("setQueryCollection",e.data.data.documents),s("setQueryCollectionLoadStatus",2)})).catch((function(e){s("setQueryCollectionLoadStatus",3),s("setErrorData",e),console.log(e)}))},deleteCollection:function(e,t){var s=e.commit,a=e.dispatch;s("setDeleteCollectionStatus",1),s("setDeletingCollection",t.collection),v.deleteCollection(t).then((function(){a("dropCollection",t),s("setDeleteCollectionStatus",2),s("setDeletingCollection",null)})).catch((function(e){s("setDeleteCollectionStatus",3),s("setErrorData",e),s("setDeletingCollection",null),console.log(e)}))},clearCollection:function(e,t){var s=e.commit;s("setClearCollectionStatus",1),v.clearCollection(t).then((function(e){s("setClearedCollection",e.data.data.status),s("setClearCollectionStatus",2)})).catch((function(e){s("setClearCollectionStatus",3),s("setErrorData",e),console.log(e)}))},exportCollection:function(e,t){var s=e.commit;s("setExportCollectionStatus",1),!0===t.params.download?v.exportCollectionDownload(t).then((function(e){if(!1===e.data.success)s("setErrorData",e.data.errors),console.log(e.data.errors),s("setExportCollectionStatus",3);else{s("setExportCollectionStatus",2);var a=e.data,o="js";!0===t.params.gzip&&(o="gz"),!0===t.params.json&&(o="json");var n=new Date,r="_"+n.getTime(),i="_"+n.getFullYear()+parseInt(n.getMonth()+1)+n.getDate(),c="mongodb-"+t.database+i+r+"."+o,l=document.createElement("a");l.href=window.URL.createObjectURL(a),l.download=c.replace(" ","_").replace("+",""),l.click()}})).catch((function(e){s("setExportCollectionStatus",3),s("setErrorData",e),console.log(e)})):v.exportCollectionView(t).then((function(e){!0===e.data.success?(s("setExportData",e.data.data.export),s("setExportCollectionStatus",2)):(s("setErrorData",e.data.errors),s("setExportCollectionStatus",3),console.log(e.data.errors))})).catch((function(e){s("setExportCollectionStatus",3),s("setErrorData",e),console.log(e)}))},importCollection:function(e,t){var s=e.commit,a=e.dispatch;s("setImportCollectionStatus",1),v.importCollection(t).then((function(e){!0===e.data.success?(a("loadDatabase",t.database),s("setImportCollectionStatus",2)):(s("setErrorData",e.data.errors),s("setImportCollectionStatus",3),console.log(e.data.errors))})).catch((function(e){s("setImportCollectionStatus",3),s("setErrorData",e),console.log(e)}))},saveCollectionProperties:function(e,t){var s=e.commit;s("setCollectionPropertiesStatus",1),v.saveProperties(t).then((function(e){!0===e.data.success?(s("setCollection",e.data.data.collection),s("setCollectionPropertiesStatus",2)):(s("setErrorData",e.data.errors),s("setCollectionPropertiesStatus",3),console.log(e.data.errors))})).catch((function(e){s("setCollectionPropertiesStatus",3),s("setErrorData",e),console.log(e)}))},saveCollectionIndex:function(e,t){var s=e.commit;s("setCollectionIndexStatus",1),s("setCollectionIndex",null),v.saveIndex(t).then((function(e){!0===e.data.success?(s("setCollectionIndex",e.data.data.index),s("setCollectionIndexStatus",2)):(s("setErrorData",e.data.errors),s("setCollectionIndexStatus",3),console.log(e.data.errors))})).catch((function(e){s("setCollectionIndexStatus",3),s("setErrorData",e),console.log(e)}))},renameCollection:function(e,t){var s=e.commit,a=e.dispatch;s("setCollectionRenameStatus",1),v.renameCollection(t).then((function(e){!0===e.data.success?(a("loadDatabase",t.database),a("setActiveCollection",t.params.newName),s("setCollectionRenameStatus",2)):(s("setErrorData",e.data.errors),s("setCollectionRenameStatus",3),console.log(e.data.errors))})).catch((function(e){s("setCollectionRenameStatus",3),s("setErrorData",e),console.log(e)}))},duplicateCollection:function(e,t){var s=e.commit,a=e.dispatch;s("setCollectionDuplicateStatus",1),v.duplicateCollection(t).then((function(e){!0===e.data.success?(a("loadDatabase",t.database),a("setActiveCollection",t.params.duplicateName),a("loadCollection",{database:t.database,collection:t.params.duplicateName}),s("setCollectionDuplicateStatus",2)):(s("setErrorData",e.data.errors),s("setCollectionDuplicateStatus",3),console.log(e.data.errors))})).catch((function(e){s("setCollectionDuplicateStatus",3),s("setErrorData",e),console.log(e)}))},validateCollection:function(e,t){var s=e.commit;s("setCollectionValidationStatus",1),v.validateCollection(t).then((function(e){!0===e.data.success?(s("setCollectionValidation",e.data.data.validation[0]),s("setCollectionValidationStatus",2)):(s("setErrorData",e.data.errors),s("setCollectionValidationStatus",3),console.log(e.data.errors))})).catch((function(e){s("setCollectionValidationStatus",3),s("setErrorData",e),console.log(e)}))},setDbCollections:function(e,t){var s=e.commit;s("setCollections",t)},setActiveCollection:function(e,t){var s=e.commit;console.log("setting active collection: "+t),s("setActiveCollection",t)},getQueryLogs:function(e,t){var s=e.commit;s("setQueryLogsLoadStatus",1),v.getQueryLogs(t).then((function(e){s("setQueryLogs",e.data.data.logs),s("setQueryLogsLoadStatus",2)})).catch((function(e){s("setQueryLogs",[]),s("setQueryLogsLoadStatus",3),console.log(e)}))},getQueryExplain:function(e,t){var s=e.commit;s("setQueryExplainStatus",1),v.getQueryExplain(t).then((function(e){console.log("please explain: "+e.data.data),s("setQueryExplain",e.data.data.explain),s("setQueryExplainStatus",2)})).catch((function(e){s("setQueryExplain",[]),s("setQueryExplainStatus",3),console.log(e)}))},setCurrentFormat:function(e,t){var s=e.commit;s("setCurrentFormat",t)},updateDocument:function(e,t){var s=e.commit;s("setUpdateDocumentStatus",1),v.updateDocument(t).then((function(e){"success"===e.data.message?(s("setUpdatedDocument",t),s("setUpdateDocumentStatus",2)):(s("setUpdateDocumentStatus",3),s("setErrorData","no result"))})).catch((function(e){s("setUpdateDocumentStatus",3),s("setErrorData",e),console.log(e)}))},duplicateDocument:function(e,t){var s=e.commit;s("setDuplicateDocumentStatus",1),v.duplicateDocument(t).then((function(e){"success"===e.data.message?(s("setCreatedDocument",e.data.data.document),s("setDuplicateDocumentStatus",2)):(s("setDuplicateDocumentStatus",3),s("setErrorData","no result"))})).catch((function(e){s("setDuplicateDocumentStatus",3),s("setErrorData",e),console.log(e)}))},createDocument:function(e,t){var s=e.commit;s("setCreateDocumentStatus",1),v.createDocument(t).then((function(e){"success"===e.data.message?(s("setCreatedDocument",e.data.data.document),s("setCreateDocumentStatus",2)):(s("setCreateDocumentStatus",3),s("setErrorData","no result"))})).catch((function(e){s("setCreateDocumentStatus",3),s("setErrorData",e),console.log(e)}))},deleteDocument:function(e,t){var s=e.commit;s("setDeleteDocumentStatus",1),v.deleteDocument(t).then((function(e){"success"===e.data.message?(console.log("delete success.."),s("setDeleteDocumentStatus",2),s("setDeletedDocument",[t._id])):(s("setDeleteDocumentStatus",3),s("setErrorData","not deleted"))})).catch((function(e){s("setDeleteDocumentStatus",3),s("setErrorData",e),console.log(e)}))},setDocument:function(e,t){var s=e.commit;s("setDocumentUpdates",t)}},mutations:{setCollectionsLoadStatus:function(e,t){e.collectionLoadStatus=t},setCollections:function(e,t){e.collections=t},setCollectionLoadStatus:function(e,t){e.collectionLoadStatus=t},setCollection:function(e,t){e.collection=t},setCollectionPropertiesStatus:function(e,t){e.collectionPropertiesStatus=t},setCollectionIndexStatus:function(e,t){e.collectionIndexStatus=t},setCollectionIndex:function(e,t){e.collectionIndex=t},setCollectionRenameStatus:function(e,t){e.collectionRenameStatus=t},setCollectionDuplicateStatus:function(e,t){e.collectionDuplicateStatus=t},setCollectionValidationStatus:function(e,t){e.collectionValidationStatus=t},setCollectionValidation:function(e,t){e.collectionValidation=t},setDisplayCollection:function(e,t){e.displayCollection=t},setDisplayCollectionStatus:function(e,t){e.displayCollectionStatus=t},setCreateCollectionStatus:function(e,t){e.createCollectionStatus=t},setCreatedCollection:function(e,t){e.collections.push(t)},setDeleteCollectionStatus:function(e,t){e.deleteCollectionStatus=t},setDeletingCollection:function(e,t){e.deletingCollection=t},setClearCollectionStatus:function(e,t){e.clearCollectionStatus=t},setClearedCollection:function(e,t){e.collection.objects.count=0,e.collection.objects.objects=[],e.clearCollectionCount=t.deleted},setActiveCollection:function(e,t){e.activeCollection=t},setQueryCollectionLoadStatus:function(e,t){e.queryCollectionLoadStatus=t},setQueryCollection:function(e,t){e.queryCollection=t},setQueryLogsLoadStatus:function(e,t){e.queryLogsLoadStatus=t},setQueryLogs:function(e,t){e.queryLogs=t},setQueryExplainStatus:function(e,t){e.queryExplainStatus=t},setQueryExplain:function(e,t){e.queryExplain=t},setUpdateDocumentStatus:function(e,t){e.documentUpdateStatus=t},setUpdatedDocument:function(e,t){e.collection.objects.objects[t.index].raw=JSON.parse(t.document)},setDocumentUpdates:function(e,t){t.text&&(e.collection.objects.objects[t.index].text=t.text,e.collection.objects.objects[t.index].data=t.data)},setDuplicateDocumentStatus:function(e,t){e.documentDuplicateStatus=t},setCreateDocumentStatus:function(e,t){e.documentCreateStatus=t},setCreatedDocument:function(e,t){e.collection.objects.objects.push(t),e.collection.objects.count+=1},setDeleteDocumentStatus:function(e,t){e.documentDeleteStatus=t},setDeletedDocument:function(e,t){console.log(t);var s=e.collection.objects.objects,a=[];t.length>=1?t.forEach((function(e){console.log("deleting doc:"+e),s.forEach((function(t){t._id!==e&&a.push(t)}))})):(console.log("single doc?"),s.forEach((function(e){e._id!==t&&a.push(e)}))),e.collection.objects.objects=a,e.collection.objects.count-=1},setExportCollectionStatus:function(e,t){e.exportCollectionStatus=t},setExportData:function(e,t){e.exportData=t},setImportCollectionStatus:function(e,t){e.importCollectionStatus=t},setErrorData:function(e,t){t.message?e.errorData=t.message:e.errorData=t},setCurrentFormat:function(e,t){e.currentFormat=t}},getters:{getCollectionsLoadStatus:function(e){return e.collectionsLoadStatus},getCollections:function(e){return e.collections},getCollectionLoadStatus:function(e){return e.collectionLoadStatus},getCollection:function(e){return e.collection},getCollectionPropertiesStatus:function(e){return e.collectionPropertiesStatus},getCollectionIndexStatus:function(e){return e.collectionIndexStatus},getCollectionIndex:function(e){return e.collectionIndex},getCollectionRenameStatus:function(e){return e.collectionRenameStatus},getCollectionDuplicateStatus:function(e){return e.collectionDuplicateStatus},getCollectionValidationStatus:function(e){return e.collectionValidationStatus},getCollectionValidation:function(e){return e.collectionValidation},getDisplayCollectionStatus:function(e){return e.displayCollectionStatus},getDisplayCollection:function(e){return function(t){if(e.collection&&""!==e.collection.id)return e.collection;var s=e.collection.find((function(e){return e.id===t}));return s?(e.displayCollectionStatus=t,e.displayCollection=s,s):void 0}},getCreateCollectionStatus:function(e){return e.createCollectionStatus},getDeleteCollectionStatus:function(e){return e.deleteCollectionStatus},getDeletingCollection:function(e){return e.deletingCollection},getClearCollectionStatus:function(e){return e.clearCollectionStatus},getCollectionStats:function(e){if(e.collection)return e.collection.stats},getCollectionErrorData:function(e){return e.errorData},getExportCollectionStatus:function(e){return e.exportCollectionStatus},getExportData:function(e){return e.exportData},getImportCollectionStatus:function(e){return e.importCollectionStatus},getActiveCollection:function(e){return e.activeCollection},getQueryCollectionLoadStatus:function(e){return e.queryCollectionLoadStatus},getQueryCollection:function(e){return e.queryCollection},getQueryLogsLoadStatus:function(e){return e.queryLogsLoadStatus},getQueryLogs:function(e){return e.queryLogs},getQueryExplainStatus:function(e){return e.queryExplainStatus},getQueryExplain:function(e){return e.queryExplain},getCurrentFormat:function(e){return e.currentFormat},getUpdateDocumentStatus:function(e){return e.documentUpdateStatus},getDuplicateDocumentStatus:function(e){return e.documentDuplicateStatus},getCreateDocumentStatus:function(e){return e.documentCreateStatus},getDeleteDocumentStatus:function(e){return e.documentDeleteStatus},getDocuments:function(e){return e.collection.objects.objects},getDocument:function(e){return function(t){var s=e.collection.objects.objects;if(s)return s.map((function(e){return e._id=t}))}},getCollErrorData:function(e){return e.exportData}}},w={getServer:function(){return window.axios.get(r["a"].API_URL+"/server")},getServerProcesses:function(){return window.axios.get(r["a"].API_URL+"/server/processes")},getServerStatus:function(e){return window.axios.get(r["a"].API_URL+"/server/"+e+"/status")},getServers:function(){return window.axios.get(r["a"].API_URL+"/servers")},saveServer:function(e){return window.axios.post(r["a"].API_URL+"/servers",Object(n["a"])(Object(n["a"])({},e),{},{_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]}))},activateServer:function(e){return window.axios.post(r["a"].API_URL+"/servers/activate",{id:e,_token:window.axios.defaults.headers.common["X-CSRF-TOKEN"]})},deleteServer:function(e){return window.axios.delete(r["a"].API_URL+"/servers/"+e)}},b={state:{servers:[],serversLoadStatus:0,server:{},serverLoadStatus:0,serverConfig:{},serverSaveStatus:0,serverActivateStatus:0,serverDeleteStatus:0,displayServer:{},displayServerStatus:0,loadServerStatus:0,serverStatus:{},loadServerProcesses:0,serverProcesses:[]},actions:{loadServers:function(e){var t=e.commit;t("setServersLoadStatus",1),w.getServers().then((function(e){t("setServers",e.data.servers),t("setServersLoadStatus",2)})).catch((function(e){t("setServers",[]),t("setServersLoadStatus",3),console.log(e.toJSON())}))},loadServer:function(e){var t=e.commit;t("setServerLoadStatus",1),w.getServer().then((function(e){t("setServer",e.data.server),t("setServerLoadStatus",2)})).catch((function(e){t("setServer",{}),t("setServerLoadStatus",3),console.log(e.toJSON())}))},saveServer:function(e,t){var s=e.commit;s("setServerSaveStatus",1),w.saveServer(t).then((function(e){t.id?s("setUpdateConfig",e.data.server):s("setServerConfig",e.data.server),s("setServerSaveStatus",2)})).catch((function(e){s("setServerConfig",{}),s("setServerSaveStatus",3),console.log(e.toJSON())}))},activateServer:function(e,t){var s=e.commit;s("setServerActivateStatus",1),w.activateServer(t).then((function(e){s("setServerConfig",e.data.server),s("setServerActivateStatus",2)})).catch((function(e){s("setServerConfig",{}),s("setServerActivateStatus",3),console.log(e.toJSON())}))},deleteServer:function(e,t){var s=e.commit;s("setServerDeleteStatus",1),w.deleteServer(t).then((function(){s("setServerDelete",t),s("setServerDeleteStatus",2)})).catch((function(e){s("setServerDelete",{}),s("setServerDeleteStatus",3),console.log(e.toJSON())}))},getServerStatus:function(e,t){var s=e.commit;s("setLoadServerStatus",1),w.getServerStatus(t).then((function(e){s("setServerStatus",e.data.status),s("setLoadServerStatus",2)})).catch((function(e){s("setServerStatus",{}),s("setLoadServerStatus",3),console.log(e.toJSON())}))},getServerProcesses:function(e){var t=e.commit;t("setLoadServerProcesses",1),w.getServerProcesses().then((function(e){e.data.processes&&e.data.processes.inprog&&(console.log("inprog:"+e.data.processes.inprog),t("setServerProcesses",e.data.processes.inprog)),t("setLoadServerProcesses",2)})).catch((function(e){t("setServerProcesses",[]),t("setLoadServerProcesses",3),console.log(e.toJSON())}))}},mutations:{setServersLoadStatus:function(e,t){e.serversLoadStatus=t},setServers:function(e,t){e.servers=t},setServerLoadStatus:function(e,t){e.serverLoadStatus=t},setServer:function(e,t){e.server=t},setServerSaveStatus:function(e,t){e.serverSaveStatus=t},setServerActivateStatus:function(e,t){e.serverActivateStatus=t},setServerConfig:function(e,t){e.serverConfig=t,e.servers.push(t)},setUpdateConfig:function(e,t){var s,a=e.servers;a.forEach((function(e){e.id===t.id?s.push(t):s.push(e)})),e.servers=s},setServerDeleteStatus:function(e,t){e.serverDeleteStatus=t},setServerDelete:function(e,t){e.servers=e.servers.map((function(e){return e.id!==t}))},setDisplayServer:function(e,t){e.displayServer=t},setDisplayServerStatus:function(e,t){e.displayServerStatus=t},setLoadServerStatus:function(e,t){e.loadServerStatus=t},setServerStatus:function(e,t){e.serverStatus=t},setLoadServerProcesses:function(e,t){e.loadServerProcesses=t},setServerProcesses:function(e,t){e.serverProcesses=t}},getters:{getServersLoadStatus:function(e){return e.serversLoadStatus},getServers:function(e){return e.servers},getServersCount:function(e){return e.servers?e.servers.length:0},getServerLoadStatus:function(e){return e.serverLoadStatus},getServer:function(e){return e.server},getServerSaveStatus:function(e){return e.serverSaveStatus},getServerActivateStatus:function(e){return e.serverActivateStatus},getServerConfig:function(e){return e.serverConfig},getServerConfiguration:function(e){return function(t){return e.servers.find((function(e){return e.id===t}))}},getServerDeleteStatus:function(e){return e.serverDeleteStatus},getBuildInfo:function(e){return e.server.buildinfo},getCommandLine:function(e){return e.server.commandline},getConnection:function(e){return e.server.connection},getDirectives:function(e){return e.server.directives},getWebServer:function(e){return e.server.webserver},getComposerData:function(e){return e.server.composer},getDisplayServerStatus:function(e){return e.displayServerStatus},getDisplayServer:function(e){return function(t){if(e.server&&""!==e.server.id)return e.server;var s=e.server.find((function(e){return e.id===t}));return s?(e.displayServerStatus=t,e.displayServer=s,s):void 0}},getLoadServerStatus:function(e){return e.loadServerStatus},getServerStatus:function(e){return e.serverStatus},getLoadServerProcesses:function(e){return e.loadServerProcesses},getServerProcesses:function(e){return e.serverProcesses}}},S=(s("4de4"),{state:{emailCheck:{},emailCheckStatus:0,errorData:null,user:{},users:[],userDeleteStatus:0,userLoadStatus:0,usersLoadStatus:0,userSaveStatus:0,userLoginStatus:0,userLogoutStatus:0,updated:null,userAuthStatus:JSON.parse(localStorage.getItem("iri"))?1:0,iri:JSON.parse(localStorage.getItem("iri"))||""},actions:{createUser:function(e,t){var s=e.commit;s("setUserSaveStatus",1),i.postUser(t).then((function(e){s("setUserSaveStatus",2),s("setInUsers",[t,e.data.data.users])})).catch((function(e){s("setUserSaveStatus",3),s("setUserErrorData",e.response),e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}))},loginUser:function(e,t){var s=e.commit,a=e.dispatch;s("setUserLoginStatus",1),i.loginUser(t).then((function(e){var t=e.data.user;!0===e.data.success&&t.iri?(s("setUserLoginStatus",2),s("setUserAuthStatus",1),localStorage.setItem("iri",JSON.stringify(t.iri)),s("setUserIri",t.iri),a("loadUser",t.iri)):(s("setUserLoginStatus",3),console.log("login error - secondary"),console.log(e.data))})).catch((function(e){s("setUserLoginStatus",3),sessionStorage.removeItem("iri"),console.log("login error - primary"),e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))})).finally((function(){console.log("are we there yet?!")}))},loadUser:function(e,t){var s=e.commit;s("setUserLoadStatus",1),i.getUserByIri(t).then((function(e){var t=e.data.user;t.id?(s("setUser",t),s("setUserAuthStatus",1),s("setUserIri",t.iri),s("setUserLoadStatus",2)):(s("setUser",{}),s("setUserLoadStatus",3))})).catch((function(e){s("setUser",{}),s("setUserLoadStatus",3),e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),401===e.response.status&&(localStorage.removeItem("iri"),s("setCommitLogoutSuccess",2)))}))},loadUsers:function(e){var t=e.commit;t("setUsersLoadStatus",1),i.getUsers().then((function(e){t("setUsers",e.data.data.users),t("setUsersLoadStatus",2)})).catch((function(e){t("setUsers",[]),t("setUsersLoadStatus",3),t("setUserErrorData",e.response),e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}))},editUser:function(e,t){var s=e.commit,a=e.dispatch;s("setUserUpdateStatus",1),i.putUpdateUser(t.name,t.email,t.password).then((function(){s("setUserUpdateStatus",2),a("loadUser")})).catch((function(e){s("setUserUpdateStatus",3),e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}))},deleteUser:function(e,t){var s=e.commit;s("setUserDeleteStatus",1),i.deleteUser(t).then((function(e){console.log(e),s("setUserDeleteStatus",2),s("removeDeleted",t)})).catch((function(e){s("setUserDeleteStatus",3),s("setUserErrorData",e.response),e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}))},logoutUser:function(e,t){var s=e.commit;s("setUserLogoutStatus",1),i.logoutUser(t.uid).then((function(e){!0===e.data.success&&"success"===e.data.message&&(localStorage.removeItem("iri"),s("setCommitLogoutSuccess",2))})).catch((function(e){e.response&&401===e.response.status?(localStorage.removeItem("iri"),s("setCommitLogoutSuccess",2),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):s("setUserLogoutStatus",3)}))},clearUser:function(e){var t=e.commit;localStorage.removeItem("iri"),t("setCommitLogoutSuccess",2)},checkEmail:function(e,t){var s=e.commit;s("setEmailCheckStatus",1),i.checkEmail(t.email).then((function(e){s("setEmailCheck",e.data),s("setEmailCheckStatus",2)})).catch((function(e){s("setEmailCheckStatus",3),s("setEmailCheck",{}),e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers))}))}},mutations:{setUserLoadStatus:function(e,t){e.userLoadStatus=t},setUsersLoadStatus:function(e,t){e.usersLoadStatus=t},setUser:function(e,t){e.user=t},setUserIri:function(e,t){e.iri=t},setInUsers:function(e,t){var s=t[0];"login"!==s.type&&"both"!==s.type||e.users.loginUsers.push(t[1].loginUsers),"database"!==s.type&&"both"!==s.type||e.users.databaseUsers.push(t[1].databaseUsers)},setUserSaveStatus:function(e,t){e.userSaveStatus=t},setUpdated:function(e,t){e.updated=t},setUserLoginStatus:function(e,t){e.userLoginStatus=t},setUserLogoutStatus:function(e,t){e.userLogoutStatus=t},setCommitLogoutSuccess:function(e,t){e.userLoadStatus=0,e.userAuthStatus=0,e.userLoginStatus=0,e.iri="",e.user={},e.userLogoutStatus=t},setUserAuthStatus:function(e,t){e.userAuthStatus=t},setEmailCheckStatus:function(e,t){e.emailCheckStatus=t},setEmailCheck:function(e,t){e.emailCheck=t},setUserDeleteStatus:function(e,t){e.userDeleteStatus=t},removeDeleted:function(e,t){if("login"===t.type){var s=e.users.loginUsers;e.users.loginUsers=s.filter((function(e){return e.id!==t.id}))}if("database"===t.type){var a=e.users.databaseUsers;e.users.databaseUsers=a.filter((function(e){return e._id!==t.id}))}},setUserErrorData:function(e,t){e.errorData=t}},getters:{getUserLoadStatus:function(e){return e.userLoadStatus},getUsersLoadStatus:function(e){return e.usersLoadStatus},getUser:function(e){return e.user},getUsers:function(e){return e.users},getUserAuthStatus:function(e){return e.userAuthStatus},getUserSaveStatus:function(e){return e.userSaveStatus},getUpdated:function(e){return e.updated},getEmailCheckStatus:function(e){return e.emailCheckStatus},getEmailCheck:function(e){return e.emailCheck},getUserLoginStatus:function(e){return e.userLoginStatus},getUserLogoutStatus:function(e){return e.userLogoutStatus},getUserDeleteStatus:function(e){return e.userDeleteStatus},isLoggedIn:function(e){return 1===e.userAuthStatus&&""!==e.iri},getIsRoot:function(e){return e.user.user_role.hasRoot},getIsAdmin:function(e){return"1"===e.user.admin_user},getUserRoles:function(e){return e.user.user_role?e.user.user_role.roles:[]},canUserAdminUsers:function(e){var t=["root","dbOwner","userAdmin","userAdminAnyDatabase"],s=e.user.user_role&&e.user.user_role.roles?e.user.user_role.roles:[],a=!1;return s&&s.forEach((function(e){t.map((function(t){t===e.role&&(a=!0)}))})),a},isUserDbAdmin:function(e){var t=["dbAdmin","dbAdminAnyDatabase"],s=e.user.user_role&&e.user.user_role.roles?e.user.user_role.roles:[],a=!1;return s&&s.forEach((function(e){t.map((function(t){t===e.role&&(a=!0)}))})),a},getUsersName:function(e){return e.user.name},getUserName:function(e){return e.user.user},getUserId:function(e){return e.user.id},getUsersCount:function(e){return e.users&&e.users.loginUsers?e.users.loginUsers.length+e.users.databaseUsers.length:0},getUserErrorData:function(e){return e.errorData},getUserErrorMessage:function(e){return e.errorData?e.errorData.data.errors?e.errorData.data.errors:e.errorData.data?e.errorData.data:{}:""}}});s("1368").polyfill(),a["a"].use(o["a"]);t["a"]=new o["a"].Store({modules:{application:l,display:u,filters:d,database:h,collection:C,server:b,users:S}})},4605:function(e,t,s){},4793:function(e,t,s){},"4a9a":function(e,t,s){"use strict";s("fbbc")},"4bd0":function(e,t,s){},"4f79":function(e,t,s){"use strict";s("abe5")},"512d":function(e,t,s){"use strict";s("a76f")},5316:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide-in-top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"success-notification-container"},[s("div",{staticClass:"success-notification"},[s("img",{attrs:{src:"/img/success.svg"}}),e._v(" "+e._s(e.successMessage)+" ")])])])},o=[],n=s("81f6"),r={data:function(){return{successMessage:"",show:!1}},mounted:function(){var e=this;n["a"].$on("show-success",(function(t){e.successMessage=t.notification,e.show=!0;var s=t.timer?t.timer:5e3;setTimeout(function(){this.show=!1}.bind(e),s)}))}},i=r,c=(s("e894"),s("0c7c")),l=Object(c["a"])(i,a,o,!1,null,null,null);t["a"]=l.exports},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("a026"),o=s("2b27"),n=s.n(o),r=s("a18c"),i=s("4360");function c(e){var t;return i["a"].dispatch("commitLanguage",e).then((function(){t=i["a"].getters.getLanguageArray})),function(e,s){return t[e][s]}}function l(){var e,t=[{code:"US",name:"United States"},{code:"CA",name:"Canada"},{code:"AU",name:"Australia"},{code:"FR",name:"France"},{code:"DE",name:"Germany"},{code:"IS",name:"Iceland"},{code:"IE",name:"Ireland"},{code:"IT",name:"Italy"},{code:"ES",name:"Spain"},{code:"SE",name:"Sweden"},{code:"AT",name:"Austria"},{code:"BE",name:"Belgium"},{code:"FI",name:"Finland"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"NO",name:"Norway"},{code:"GB",name:"United Kingdom"},{code:"CH",name:"Switzerland"},{code:"NZ",name:"New Zealand"},{code:"RU",name:"Russian Federation"},{code:"PT",name:"Portugal"},{code:"NL",name:"Netherlands"},{code:"IM",name:"Isle of Man"},{code:"AF",name:"Afghanistan"},{code:"AX",name:"Aland Islands "},{code:"AL",name:"Albania"},{code:"DZ",name:"Algeria"},{code:"AS",name:"American Samoa"},{code:"AD",name:"Andorra"},{code:"AO",name:"Angola"},{code:"AI",name:"Anguilla"},{code:"AQ",name:"Antarctica"},{code:"AG",name:"Antigua and Barbuda"},{code:"AR",name:"Argentina"},{code:"AM",name:"Armenia"},{code:"AW",name:"Aruba"},{code:"AZ",name:"Azerbaijan"},{code:"BS",name:"Bahamas"},{code:"BH",name:"Bahrain"},{code:"BD",name:"Bangladesh"},{code:"BB",name:"Barbados"},{code:"BY",name:"Belarus"},{code:"BZ",name:"Belize"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BT",name:"Bhutan"},{code:"BO",name:"Bolivia, Plurinational State of"},{code:"BQ",name:"Bonaire, Sint Eustatius and Saba"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BW",name:"Botswana"},{code:"BV",name:"Bouvet Island"},{code:"BR",name:"Brazil"},{code:"IO",name:"British Indian Ocean Territory"},{code:"BN",name:"Brunei Darussalam"},{code:"BG",name:"Bulgaria"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"KH",name:"Cambodia"},{code:"CM",name:"Cameroon"},{code:"CV",name:"Cape Verde"},{code:"KY",name:"Cayman Islands"},{code:"CF",name:"Central African Republic"},{code:"TD",name:"Chad"},{code:"CL",name:"Chile"},{code:"CN",name:"China"},{code:"CX",name:"Christmas Island"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CO",name:"Colombia"},{code:"KM",name:"Comoros"},{code:"CG",name:"Congo"},{code:"CD",name:"Congo, the Democratic Republic of the"},{code:"CK",name:"Cook Islands"},{code:"CR",name:"Costa Rica"},{code:"CI",name:"Cote d'Ivoire"},{code:"HR",name:"Croatia"},{code:"CU",name:"Cuba"},{code:"CW",name:"Curaçao"},{code:"CY",name:"Cyprus"},{code:"DJ",name:"Djibouti"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"EC",name:"Ecuador"},{code:"EG",name:"Egypt"},{code:"SV",name:"El Salvador"},{code:"GQ",name:"Equatorial Guinea"},{code:"ER",name:"Eritrea"},{code:"EE",name:"Estonia"},{code:"ET",name:"Ethiopia"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FO",name:"Faroe Islands"},{code:"FJ",name:"Fiji"},{code:"GF",name:"French Guiana"},{code:"PF",name:"French Polynesia"},{code:"TF",name:"French Southern Territories"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambia"},{code:"GE",name:"Georgia"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GR",name:"Greece"},{code:"GL",name:"Greenland"},{code:"GD",name:"Grenada"},{code:"GP",name:"Guadeloupe"},{code:"GU",name:"Guam"},{code:"GT",name:"Guatemala"},{code:"GG",name:"Guernsey"},{code:"GN",name:"Guinea"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HT",name:"Haiti"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"VA",name:"Holy See (Vatican City State)"},{code:"HN",name:"Honduras"},{code:"HK",name:"Hong Kong"},{code:"HU",name:"Hungary"},{code:"IN",name:"India"},{code:"ID",name:"Indonesia"},{code:"IR",name:"Iran, Islamic Republic of"},{code:"IQ",name:"Iraq"},{code:"IL",name:"Israel"},{code:"JM",name:"Jamaica"},{code:"JP",name:"Japan"},{code:"JE",name:"Jersey"},{code:"JO",name:"Jordan"},{code:"KZ",name:"Kazakhstan"},{code:"KE",name:"Kenya"},{code:"KI",name:"Kiribati"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of"},{code:"KW",name:"Kuwait"},{code:"KG",name:"Kyrgyzstan"},{code:"LA",name:"Lao People's Democratic Republic"},{code:"LV",name:"Latvia"},{code:"LB",name:"Lebanon"},{code:"LS",name:"Lesotho"},{code:"LR",name:"Liberia"},{code:"LY",name:"Libyan Arab Jamahiriya"},{code:"LI",name:"Liechtenstein"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MO",name:"Macao"},{code:"MK",name:"Macedonia"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"MY",name:"Malaysia"},{code:"MV",name:"Maldives"},{code:"ML",name:"Mali"},{code:"MT",name:"Malta"},{code:"MH",name:"Marshall Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MU",name:"Mauritius"},{code:"YT",name:"Mayotte"},{code:"MX",name:"Mexico"},{code:"FM",name:"Micronesia, Federated States of"},{code:"MD",name:"Moldova, Republic of"},{code:"MC",name:"Monaco"},{code:"MN",name:"Mongolia"},{code:"ME",name:"Montenegro"},{code:"MS",name:"Montserrat"},{code:"MA",name:"Morocco"},{code:"MZ",name:"Mozambique"},{code:"MM",name:"Myanmar"},{code:"NA",name:"Namibia"},{code:"NR",name:"Nauru"},{code:"NP",name:"Nepal"},{code:"NC",name:"New Caledonia"},{code:"NI",name:"Nicaragua"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigeria"},{code:"NU",name:"Niue"},{code:"NF",name:"Norfolk Island"},{code:"MP",name:"Northern Mariana Islands"},{code:"OM",name:"Oman"},{code:"PK",name:"Pakistan"},{code:"PW",name:"Palau"},{code:"PS",name:"Palestinian Territory, Occupied"},{code:"PA",name:"Panama"},{code:"PG",name:"Papua New Guinea"},{code:"PY",name:"Paraguay"},{code:"PE",name:"Peru"},{code:"PH",name:"Philippines"},{code:"PN",name:"Pitcairn"},{code:"PL",name:"Poland"},{code:"PR",name:"Puerto Rico"},{code:"QA",name:"Qatar"},{code:"RE",name:"Reunion"},{code:"RO",name:"Romania"},{code:"RW",name:"Rwanda"},{code:"BL",name:"Saint Barthélemy"},{code:"SH",name:"Saint Helena"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"LC",name:"Saint Lucia"},{code:"MF",name:"Saint Martin (French part)"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"WS",name:"Samoa"},{code:"SM",name:"San Marino"},{code:"ST",name:"Sao Tome and Principe"},{code:"SA",name:"Saudi Arabia"},{code:"SN",name:"Senegal"},{code:"RS",name:"Serbia"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SG",name:"Singapore"},{code:"SX",name:"Sint Maarten (Dutch part)"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"SB",name:"Solomon Islands"},{code:"SO",name:"Somalia"},{code:"ZA",name:"South Africa"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"LK",name:"Sri Lanka"},{code:"SD",name:"Sudan"},{code:"SR",name:"Suriname"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SZ",name:"Swaziland"},{code:"SY",name:"Syrian Arab Republic"},{code:"TW",name:"Taiwan, Province of China"},{code:"TJ",name:"Tajikistan"},{code:"TZ",name:"Tanzania, United Republic of"},{code:"TH",name:"Thailand"},{code:"TL",name:"Timor-Leste"},{code:"TG",name:"Togo"},{code:"TK",name:"Tokelau"},{code:"TO",name:"Tonga"},{code:"TT",name:"Trinidad and Tobago"},{code:"TN",name:"Tunisia"},{code:"TR",name:"Turkey"},{code:"TM",name:"Turkmenistan"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TV",name:"Tuvalu"},{code:"UG",name:"Uganda"},{code:"UA",name:"Ukraine"},{code:"AE",name:"United Arab Emirates"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VU",name:"Vanuatu"},{code:"VE",name:"Venezuela, Bolivarian Republic of"},{code:"VN",name:"Viet Nam"},{code:"VG",name:"Virgin Islands, British"},{code:"VI",name:"Virgin Islands, U.S."},{code:"WF",name:"Wallis and Futuna"},{code:"EH",name:"Western Sahara"},{code:"YE",name:"Yemen"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"}];return i["a"].dispatch("setCountries",t).then((function(){e=i["a"].getters.getCountries})),function(){return e}}a["a"].mixin({beforeCreate:function(){var e=this.$options;e.trans?this.$trans=e.trans:e.parent&&e.parent.$trans&&(this.$trans=e.parent.$trans)}});s("159b");function u(){return function(e){var t=e?e.classList:null;return{toggle:function(e){return t.toggle(e),this},add:function(e){return t.add(e),this},remove:function(e){return t.remove(e),this},replace:function(e){return t.remove(e[0]),t.add(e[1]),this},hasClass:function(e){return t.forEach((function(t){if(t===e)return!0}))},text:function(t){return e.innerText=t,this},html:function(t,s){return s&&(t=this.nl2br(t)),e.innerHTML=t,this},focus:function(){return e.focus(),this},show:function(){return e.style.display="inline-block",this},hide:function(){return e.style.display="none",this},css:function(t,s){return e.style[t]=s,this},value:function(){return e.value?e.value:e.options[e.selectedIndex].value},readonly:function(t){return e.readonly=!0===t&&"readonly",this},nl2br:function(e){return e?e.replaceAll("\n","<br>"):""},humanReadable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return 0===e?0:e<1024?Math.round(e,2)+"B":e<1048576?Math.round(e/1024,t)+"k":e<1073741824?Math.round(e/1024/1024,t)+"m":e<1099511627776?Math.round(e/1024/1024/1024,t)+"g":e}}}}a["a"].mixin({beforeCreate:function(){var e=this.$options;e.jqf?this.$jqf=e.jqf:e.parent&&e.parent.$jqf&&(this.$jqf=e.parent.$jqf)}});var d=s("ade3"),m=s("53ca");s("ac1f"),s("5319"),s("d81d"),s("b64b"),s("d3b7");function g(){return function(e){var t=Object(m["a"])(e),s=null;return e&&"object"===t?(s=JSON.stringify(e),s=s.replace('"_id":null,',"")):e&&(s=e),{json:function(e){return s||JSON.stringify(e)},jsonV:function(e){s=e||s;var t=0,a=0,o=null,n="",r="&nbsp;&nbsp;&nbsp;&nbsp;";for(o in s)if("{"===s[o]||"["===s[o])for(t+=1,n+=s[o]+"<br>",a=0;a<t;a+=1)n+=r;else if("}"===s[o]||"]"===s[o]){for(n+="<br>",t>0&&(t-=1),a=0;a<t;a+=1)n+=r;n+=s[o]}else if(","===s[o])for(n+=s[o]+"<br>",a=0;a<t;a+=1)n+=r;else n+=s[o];return n},jsonT:function(e){s=e||s;var t=0,a="",o=0,n=null;for(n in s)if("{"===s[n]||"["===s[n])for(t+=1,a+=s[n]+"\n",o=0;o<t;o+=1)a+="\t";else if("}"===s[n]||"]"===s[n]){for(a+="\n",t>0&&(t-=1),o=0;o<t;o+=1)a+="\t";a+=s[n]}else if(","===s[n])for(a+=s[n]+"\n",o=0;o<t;o+=1)a+="\t";else a+=s[n];return a},jsonH:function(e){s=e||s;var t="",a=0,o="&nbsp;&nbsp;&nbsp;&nbsp;",n=0,r=null;for(r in s)if("~"===s[r]||"`"===s[r])t+=s[r];else if("{"===s[r]||"["===s[r])for(a+=1,t+='<span style="color: green">'+s[r]+"</span><br>",n=0;n<a;n+=1)t+=o;else if("}"===s[r]||"]"===s[r]){for(t+="<br>",a>0&&(a-=1),n=0;n<a;n+=1)t+=o;t+='<span style="color: green">'+s[r]+"</span>"}else if("("===s[r]||")"===s[r])t+='<span style="color: blue">'+s[r]+"</span>";else if(","===s[r])for(t+='<span style="color: green">'+s[r]+"</span><br>",n=0;n<a;n+=1)t+=o;else":"===s[r]?t+=' <span class="colon" style="color: green">'+s[r]+"</span> ":'"'===s[r]?t+='<span style="color: #800000">'+s[r]+"</span>":t+='<span style="color: red">'+s[r]+"</span>";return t=t.replace("~",' <span style="color: blue">false</span>'),t=t.replace("`",' <span style="color: blue">true</span>'),t},array:function(){return Object.keys(e).map((function(t){return Object(d["a"])({},t,e[t])}))},arrayV:function(e){s=e||s;var t=0,a=0,o=null,n="",r="&nbsp;&nbsp;&nbsp;&nbsp;";for(o in s)if("{"===s[o]||"["===s[o])for(t+=1,n+="array(<br>",a=0;a<t;a+=1)n+=r;else if("}"===s[o]||"]"===s[o]){for(n+="<br>",t>0&&(t-=1),a=0;a<t;a+=1)n+=r;n+=")"}else if(","===s[o])for(n+=s[o]+"<br>",a=0;a<t;a+=1)n+=r;else":"===s[o]?n+=" => ":n+=s[o];return n},arrayT:function(e){s=e||s;var t=0,a="",o=0,n=null;for(n in s)if("{"===s[n]||"["===s[n])for(t+=1,a+="array(\n",o=0;o<t;o+=1)a+="\t";else if("}"===s[n]||"]"===s[n]){for(a+="\n",t>0&&(t-=1),o=0;o<t;o+=1)a+="\t";a+=")"}else if(","===s[n])for(a+=s[n]+"\n",o=0;o<t;o+=1)a+="\t";else":"===s[n]?a+=" => ":a+=s[n];return a},arrayH:function(e){s=e||s;var t=0,a="",o="&nbsp;&nbsp;&nbsp;&nbsp;",n=0,r=null;for(r in s)if("{"===s[r]||"["===s[r])for(t+=1,a+='<span style="color: blue">array(</span><br>',n=0;n<t;n+=1)a+=o;else if("}"===s[r]||"]"===s[r]){for(a+="<br>",t>0&&(t-=1),n=0;n<t;n+=1)a+=o;a+='<span style="color: blue">)</span>'}else if(","===s[r])for(a+='<span style="color: green">'+s[r]+"</span><br>",n=0;n<t;n+=1)a+=o;else"("===s[r]||")"===s[r]?a+='<span style="color: green">'+s[r]+"</span>":":"===s[r]?a+=' <span style="color: green">=></span> ':'"'===s[r]?a+='<span style="color: #800000">'+s[r]+"</span>":a+='<span style="color: red">'+s[r]+"</span>";return a},arrayToJson:function(e){var t=e||s;return s=t.replace(/array/g,""),s=s.replace(/\(/g,"{"),s=s.replace(/ => \(/g,":{"),s=s.replace(/\)/g,"}"),s=s.replace(/=>/g,":"),s},minify:function(e){var t=e||s,a=t.replace(/\n/g,"");return a=a.replace(/\t/g,""),a=a.replace(/\s\s/g," "),a},typeOf:function(e){var t=e||s,a=Object(m["a"])(t);return"object"===a&&(t?"[object Array]"===Object.prototype.toString.call(t)&&(a="array"):a="null"),a},isEmpty:function(e){var t,a,o=e||s,n=this.typeOf(o);if("object"===n)for(t in o)if(a=o[t],void 0!==a&&"function"!==this.typeOf(a))return!1;return!("array"===n&&n.length>=1)}}}}a["a"].mixin({beforeCreate:function(){var e=this.$options;e.convObj?this.$convObj=e.convObj:e.parent&&e.parent.$convObj&&(this.$convObj=e.parent.$convObj)}});var h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{mode:"out-in"}},[s("router-view")],1)},p=[],f={name:"App",metaInfo:{title:"Node Mongo Admin",titleTemplate:"%s | Node Mongo Admin",htmlAttrs:{lang:"en"},meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"}]},methods:{handleCheckSetup:function(){var e=this,t=this.$store.getters.getSetupStatus;if(1===t&&setTimeout((function(){e.handleCheckSetup()}),250),2===t){var s=this.$store.getters.getSetup;!1===s?(console.log("status 2: load setup..."),r["a"].push({name:"public-setup"})):s.iri?this.$store.dispatch("loadUser",s.iri):(console.log("go to login!"),r["a"].push({name:"login"}))}if(3===t){var a=this.$store.getters.getAppErrorData;console.log("errorData: "+a),a&&a.error&&"Unable to connect to API"===a.error?(this.$store.dispatch("clearUser"),console.log("App.vue network error..."),r["a"].push({name:"public"})):(console.log("status 3: load setup..."),r["a"].push({name:"public-setup"}))}}},mounted:function(){this.$store.dispatch("checkSetup"),this.handleCheckSetup()}},v=f,C=(s("5c0b"),s("0c7c")),w=Object(C["a"])(v,h,p,!1,null,null,null),b=w.exports;window._=s("2ef0");try{window.Popper=s("f0bd").default,window.$=window.jQuery=s("1157"),s("e14e")}catch(P){console.log(P)}window.axios=s("bc3a"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.axios.defaults.withCredentials=!0,a["a"].use(n.a),a["a"].prototype.$http=window.axios;var S=navigator.language||navigator.userLanguage,L="en",_=JSON.parse(localStorage.getItem("language"));_?L=_:S&&(L=S);var y=c(L);l();var x=u(),$=g();a["a"].config.productionTip=!1,new a["a"]({router:r["a"],store:i["a"],trans:y,jqf:x,convObj:$,render:function(e){return e(b)}}).$mount("#app")},5817:function(e,t,s){},"58f6":function(e,t,s){},"5a1b":function(e,t,s){"use strict";s("aa11")},"5c0b":function(e,t,s){"use strict";s("00f5")},"5f3a":function(e,t,s){},"5f92":function(e,t,s){"use strict";s("a7a7")},"5fe8":function(e,t,s){"use strict";s("e293")},"630e":function(e,t,s){},"650c":function(e,t,s){},"69a8":function(e,t,s){"use strict";s("e0aa")},"69ac":function(e,t,s){"use strict";s("7472")},"69fe":function(e,t,s){},"6aa9":function(e,t,s){"use strict";s("650c")},"6b07":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"appLayout",staticClass:"public_view off-canvas-wrapper-inner",attrs:{id:"app-layout"}},[e.getAppError&&404===e.getAppError.status?s("h2",{staticStyle:{color:"red","text-align":"center"}},[e._v(e._s(e.cannotConnect))]):e._e(),s("header",{staticClass:"header-content"},[s("navigation")],1),s("success-notification"),s("error-notification"),s("message-notification"),s("router-view"),s("site-footer"),s("login-modal"),s("language-modal")],1)},o=[],n=(s("d3b7"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"public-navigation grid-container"},[s("div",{staticClass:"grid-x"},[s("div",{staticClass:"large-5 medium-5 small-6 cell text-left"},[s("ul",{staticClass:"links"},[s("li",[s("router-link",{attrs:{to:{name:"public-about"}}},[s("span",{domProps:{textContent:e._s(e.showLanguage("nav","about"))}})])],1),s("li",{directives:[{name:"show",rawName:"v-show",value:e.isMember,expression:"isMember"}],staticClass:"member-button"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!e.userLoadStatus,expression:"!userLoadStatus"}]},[s("a",{attrs:{href:"#"},on:{click:function(t){return e.loadLogin(t)}}},[s("button",{attrs:{title:e.showLanguage("title","loginTitle")},domProps:{textContent:e._s(e.showLanguage("nav","login"))}})])])])])]),s("div",{staticClass:"large-2 medium-2 hide-for-small-only cell text-center logo-link"},[s("router-link",{attrs:{to:{name:"login"}}},[s("span",{staticClass:"logo"},[s("img",{attrs:{alt:e.siteName,title:e.siteName,src:"/img/logo-nma.png"}})])])],1),s("div",{staticClass:"large-5 medium-5 small-6 cell",staticStyle:{position:"relative"}},[s("div",{staticClass:"right"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hasCountryName,expression:"hasCountryName"}],staticClass:"country-flag ng-scope",on:{click:function(t){return e.openLanguageSelector()}}},[s("img",{attrs:{src:"/img/flags/icons/"+e.setCountryName+".ico",alt:"Your country is "+e.setCountryName,title:e.showLanguage("title","countryIsTitle")+" "+e.setCountryName}})])])])])])}),r=[],i=s("db49"),c=s("81f6"),l={data:function(){return{countryName:"Australia",isLoggedIn:null,user:{}}},computed:{userLoadStatus:function(){return 2===this.$store.getters.getUserLoadStatus},siteName:function(){return i["a"].SITE_NAME},hasCountryName:function(){return null!=this.countryName},setCountryName:function(){return this.countryName},isMember:function(){var e=this.$cookies.get("nodemongo-member");return e&&e.length>=5||this.userLoadStatus}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},openLanguageSelector:function(){c["a"].$emit("show-language-selector")},getCountryNameValue:function(){this.countryName=this.$store.getters.getCountryName},loadLogin:function(e){e.preventDefault(),c["a"].$emit("prompt-login")},userLoggedIn:function(){this.isLoggedIn=this.$store.getters.isLoggedIn},getUser:function(){this.user=this.$store.getters.getUser},resetStatus:function(e){e&&(this.isLoggedIn=null)}},mounted:function(){var e=this;this.getCountryNameValue(),this.userLoggedIn(),this.getUser(),c["a"].$on("user-logged-out",(function(){e.resetStatus(!0)}))},watch:{getCountryName:function(){this.getCountryNameValue()}}},u=l,d=(s("cce7"),s("0c7c")),m=Object(d["a"])(u,n,r,!1,null,null,null),g=m.exports,h=s("5316"),p=s("265b"),f=s("6c70"),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"footer-container"},[s("div",{staticClass:"grid-container hide-for-small-only"},[s("div",{staticClass:"grid-x grid-padding-x"},[s("div",{staticClass:"large-4 medium-4 cell float-left"},[s("ul",{staticClass:"footer-menu"},[s("li",[s("router-link",{attrs:{to:{name:"public-about"}}},[s("span",{attrs:{title:e.showLanguage("title","aboutNodeMongoAdminTitle")},domProps:{textContent:e._s(e.showLanguage("nav","about_footer"))}})])],1),s("li",[s("a",{attrs:{href:"#"},on:{click:function(t){return e.openLanguageSelector(t)}}},[s("span",{attrs:{title:e.showLanguage("title","changeLanguageTitle")},domProps:{textContent:e._s(e.showLanguage("nav","language"))}})])])])]),s("div",{staticClass:"large-8 medium-8 cell text-right"},[s("div",{staticClass:"grid-container hide-for-small-only"},[s("div",{staticClass:"grid-x grid-padding-x text-right copyright"},[s("div",{staticClass:"large-12 medium-11 float-right text-right copyleft",domProps:{innerHTML:e._s(e.showLanguage("global","copyright"))}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.userLoadStatus,expression:"userLoadStatus"}],staticClass:"large-12 medium-11 float-right text-right"},[e._v(e._s(e.getUsersName())+" from "+e._s(e.countryName))])])])])])]),s("div",{staticClass:"grid-container hide-for-large hide-for-medium"},[s("div",{staticClass:"grid-x grid-padding-x"},[s("div",{staticClass:"small-12 float-left"},[s("ul",{staticClass:"footer-menu float-left"},[s("li",[s("router-link",{attrs:{to:{name:"public-about"}}},[s("span",{attrs:{title:e.showLanguage("title","aboutNodeMongoAdminTitle")},domProps:{textContent:e._s(e.showLanguage("nav","about_footer"))}})])],1),s("li",[s("span",{attrs:{title:e.showLanguage("title","changeLanguageTitle")},domProps:{textContent:e._s(e.showLanguage("nav","language"))},on:{click:function(t){return e.openLanguageSelector(t)}}})])]),s("div",{staticClass:"small-4 float-right"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!e.userLoadStatus,expression:"!userLoadStatus"}],staticClass:"hide-loading pull-right login-button"},[s("button",{attrs:{title:e.showLanguage("title","loginTitle")},domProps:{textContent:e._s(e.showLanguage("nav","login"))},on:{click:function(t){return e.loadLogin()}}})])])]),s("div",{staticClass:"small-12 text-left float-left"},[s("div",{staticClass:"grid-container hide-for-large hide-for-medium"},[s("div",{staticClass:"grid-x grid-padding-x float-left"},[s("div",{staticClass:"small-12 float-left text-left",domProps:{innerHTML:e._s(e.showLanguage("global","copyright"))}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.userLoadStatus,expression:"userLoadStatus"}],staticClass:"small-12 float-left text-left"},[e._v(e._s(e.getUsersName())+" from "+e._s(e.countryName))])])])])])])])},C=[],w={data:function(){return{country:"",isLoggedIn:null}},computed:{userLoadStatus:function(){return 2===this.$store.getters.getUserLoadStatus},isMember:function(){var e=this.$cookies.get("app-member");return e&&e.length>=3||this.userLoadStatus},countryName:function(){return this.country}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},openLanguageSelector:function(e){e.preventDefault(),c["a"].$emit("show-language-selector")},loadRegistration:function(e){e.preventDefault(),c["a"].$emit("prompt-registration")},loadLogin:function(e){e.preventDefault(),c["a"].$emit("prompt-login")},userLoggedIn:function(){this.isLoggedIn=this.$store.getters.isLoggedIn},getUsersName:function(){if(this.isLoggedIn)return this.$store.getters.getUsersName},getCountryNameValue:function(){this.country=this.$store.getters.getCountryName}},mounted:function(){this.getCountryNameValue(),this.userLoggedIn()}},b=w,S=(s("69ac"),Object(d["a"])(b,v,C,!1,null,null,null)),L=S.exports,_=s("fd6b"),y=s("1dde"),x={components:{Navigation:g,SuccessNotification:h["a"],ErrorNotification:p["a"],MessageNotification:f["a"],SiteFooter:L,LoginModal:_["a"],LanguageModal:y["a"]},data:function(){return{errorData:null,cannotConnect:"Unable to connect to API. Please ensure the NodeJs instance is running..."}},computed:{getAppError:function(){return this.$store.getters.getAppErrorData}},methods:{getCountryFromCookie:function(){return this.$cookies.get("my-country")},getCountryFromStore:function(){return this.$store.getters.getCountryName}},mounted:function(){this.getCountryFromCookie!==this.getCountryFromStore&&this.$store.dispatch("setCountryNameFromCookie",this.$cookies.get("my-country"))},created:function(){this.$store.dispatch("setDefaultLanguage"),this.$http.interceptors.response.use(void 0,(function(e){return console.error("layout.vue created: err: "+e),new Promise((function(){if(!e.status||401!==e.status||!e.config||e.config.__isRetryRequest)throw e;this.$store.dispatch("logoutUser")}))}))}},$=x,P=(s("71a1"),Object(d["a"])($,a,o,!1,null,null,null));t["default"]=P.exports},"6c70":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide-in-top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"success-notification-container"},[s("div",{staticClass:"success-notification"},[s("img",{attrs:{src:"/img/progressring.gif"}}),e._v(" "+e._s(e.successMessage)+" ")])])])},o=[],n=s("81f6"),r={data:function(){return{successMessage:"",show:!1}},mounted:function(){var e=this;n["a"].$on("show-message",(function(t){e.successMessage=t.notification,e.show=!0,setTimeout(function(){this.show=!1}.bind(e),1e4)})),n["a"].$on("hide-message",(function(){e.show=!1}))}},i=r,c=(s("5fe8"),s("0c7c")),l=Object(c["a"])(i,a,o,!1,null,null,null);t["a"]=l.exports},"71a1":function(e,t,s){"use strict";s("d920")},7472:function(e,t,s){},"74a3":function(e,t,s){"use strict";s("23e0")},7764:function(e,t,s){"use strict";s("ae1e")},"782c":function(e,t,s){"use strict";s("c3e7")},"7e1f":function(e,t,s){},"7fed":function(e,t,s){},"81f6":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s("a026"),o=new a["a"]},8457:function(e,t,s){},"99e3":function(e,t,s){},a16a:function(e,t,s){"use strict";s("5f3a")},a18c:function(e,t,s){"use strict";var a=s("a026"),o=s("8c4f"),n=s("4360");a["a"].use(o["a"]);var r=new o["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:[{path:"/",name:"layout",redirect:{name:"admin"},component:a["a"].component("Layout",s("a9c3").default),meta:{requiresAuth:!0},children:[{path:"admin",name:"admin",component:a["a"].component("Admin",s("3530").default)},{path:"about",name:"about",component:a["a"].component("About",s("f820").default)}]},{path:"/public",name:"public",redirect:{name:"login"},component:a["a"].component("Public",s("6b07").default),children:[{path:"login",name:"login",component:a["a"].component("Login",s("a55b").default)},{path:"about",name:"public-about",component:a["a"].component("About",s("f820").default)},{path:"setup",name:"public-setup",component:a["a"].component("About",s("da7d").default)}]}]});r.beforeEach((function(e,t,s){if(e.matched.some((function(e){return e.meta.requiresAuth}))){if(console.log("requiresAuth isLoggedIn: "+n["a"].getters.isLoggedIn),n["a"].getters.isLoggedIn)return void s();console.log("routes auth check going to login..."),s("/public/login")}else s()})),t["a"]=r},a1e2:function(e,t,s){"use strict";s("69fe")},a3ee:function(e,t,s){"use strict";s("abac")},a55b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page about-us"},[s("div",{staticClass:"grid-container"},[s("div",{staticClass:"row grid-x grid-padding-x"},[s("div",{staticClass:"column small-3"},[e._v(" ")]),s("div",{staticClass:"column large-6 medium-6 small-12"},[s("h3",{domProps:{textContent:e._s(e.showLanguage("login","heading"))}}),s("p",{domProps:{textContent:e._s(e.showLanguage("login","text1"))}}),s("p",{domProps:{textContent:e._s(e.showLanguage("login","text2"))}}),s("p",{domProps:{textContent:e._s(e.showLanguage("login","text3"))}}),s("p",{domProps:{textContent:e._s(e.showLanguage("login","text4"))}})]),s("div",{staticClass:"column small-3"},[e._v(" ")])])])])},o=[],n=s("81f6"),r=s("a18c"),i={methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},setAction:function(){var e=this;setTimeout((function(){if(!1===e.$store.getters.getSetup){var t=e.$store.getters.getAppErrorData;t&&404===t.status?r["a"].push({name:"public-about"}):(console.log("login.vue go to setup.."),r["a"].push({name:"public-setup"}))}else n["a"].$emit("prompt-login")}),100)}},mounted:function(){this.setAction()}},c=i,l=(s("206d"),s("0c7c")),u=Object(l["a"])(c,a,o,!1,null,null,null);t["default"]=u.exports},a76f:function(e,t,s){},a7a7:function(e,t,s){},a9c3:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"appLayout",staticClass:"off-canvas-wrapper-inner",attrs:{id:"app-layout"}},[s("success-notification"),s("error-notification"),s("message-notification"),s("delete-confirmation"),s("router-view"),s("no-results-found"),s("setup-modal"),s("login-modal"),s("language-modal")],1)},o=[],n=(s("bf19"),s("d3b7"),s("5316")),r=s("265b"),i=s("6c70"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide-in-top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"delete-notification-container"},[s("div",{staticClass:"delete-notification"},[s("img",{attrs:{src:"/img/error.svg"}}),e._v(" "+e._s(e.message)+" "),s("button",{staticClass:"button warning",on:{click:function(t){return e.confirmDelete()}}},[e._v("Confirm deletion")]),s("button",{staticClass:"button",on:{click:function(t){return e.cancelDelete()}}},[e._v("Cancel")])])])])},l=[],u=s("81f6"),d={data:function(){return{message:"Please confirm this delete request",show:!1,id:null,element:null}},methods:{confirmDelete:function(){u["a"].$emit("confirm-delete-"+this.element,this.id),this.close()},cancelDelete:function(){u["a"].$emit("cancel-delete-"+this.element,this.id),this.close()},close:function(){var e=this;setTimeout((function(){e.element=null,e.id=null,e.show=!1}),1e3)}},mounted:function(){var e=this;u["a"].$on("delete-confirmation",(function(t){e.message=t.notification,e.show=!0,e.id=t.id,e.element=t.element}))}},m=d,g=(s("26e5"),s("0c7c")),h=Object(g["a"])(m,c,l,!1,null,null,null),p=h.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide-in-top"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"no-results-notification-container"},[s("div",{staticClass:"noresult-notification"},[s("img",{attrs:{src:"/img/error.svg"}}),e._v(" "+e._s(e.errorMessage)+" ")])])])},v=[],C={data:function(){return{errorMessage:"No data found - please try again later",show:!1,timer:7500}},mounted:function(){var e=this;u["a"].$on("no-results-found",(function(t){e.errorMessage=t.notification,e.show=!0,t.timer&&(e.timer=t.timer),setTimeout(function(){this.show=!1}.bind(e),e.timer)}))}},w=C,b=(s("eb09"),Object(g["a"])(w,f,v,!1,null,null,null)),S=b.exports,L=s("fd6b"),_=s("1dde"),y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{attrs:{id:"register-modal"},on:{click:function(t){return e.closeDialogOutside(t)}}},[s("div",{staticClass:"register-box"},[s("div",{staticClass:"register-label"},[s("h3",[s("span",{domProps:{textContent:e._s(e.showLanguage("rego","title"))}}),s("img",{attrs:{title:"Close",alt:"Close",src:"/img/close-icon-white.svg"}})])]),s("div",{staticClass:"rego-content"},[s("form",{ref:"registerForm",staticClass:"form-group",attrs:{name:"registerForm",id:"registerForm",action:"#",method:"post"},on:{submit:function(t){return e.registerUser(t)}}},[s("p",[s("span",{staticClass:"has-info",attrs:{id:"introMessage"},domProps:{textContent:e._s(e.showLanguage("rego","intro"))}})]),s("p",[s("span",{staticClass:"fieldBlock"},[s("label",{attrs:{for:"name"},domProps:{textContent:e._s(e.showLanguage("rego","name"))}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.name,expression:"credentials.name"}],ref:"name",staticClass:"form-control",attrs:{type:"text",id:"name",required:""},domProps:{value:e.credentials.name},on:{keyup:function(t){return e.countName()},blur:function(t){return e.countName()},input:function(t){t.target.composing||e.$set(e.credentials,"name",t.target.value)}}})]),s("span",{ref:"nameInfo",staticClass:"help-block",attrs:{id:"nameInfo"}})]),s("p",[s("span",{staticClass:"fieldBlock"},[s("label",{attrs:{for:"email"},domProps:{textContent:e._s(e.showLanguage("rego","email"))}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.email,expression:"credentials.email"}],ref:"email",staticClass:"form-control",attrs:{type:"email",id:"email",required:""},domProps:{value:e.credentials.email},on:{keydown:function(t){return e.verifyName()},blur:function(t){return e.checkEmail()},input:function(t){t.target.composing||e.$set(e.credentials,"email",t.target.value)}}})]),s("span",{ref:"emailInfo",staticClass:"help-block",attrs:{id:"emailInfo"}})]),s("p",[s("span",{staticClass:"fieldBlock"},[s("label",{attrs:{for:"password"},domProps:{textContent:e._s(e.showLanguage("rego","password"))}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],ref:"password",staticClass:"form-control",attrs:{type:"password",id:"password",required:""},domProps:{value:e.credentials.password},on:{focus:function(t){return e.verifyEmail()},keyup:function(t){return e.countPassword()},input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}})]),s("span",{ref:"passwordInfo",staticClass:"help-block",attrs:{id:"passwordInfo"}})]),s("p",[s("span",{staticClass:"fieldBlock"},[s("label",{attrs:{for:"passwordConfirm"},domProps:{textContent:e._s(e.showLanguage("rego","confirmPassword"))}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.matched,expression:"credentials.matched"}],ref:"passwordConfirm",staticClass:"form-control",attrs:{type:"password",id:"passwordConfirm",required:""},domProps:{value:e.credentials.matched},on:{focus:function(t){return e.verifyPassword()},keyup:function(t){return e.comparePassword()},input:function(t){t.target.composing||e.$set(e.credentials,"matched",t.target.value)}}})]),s("span",{ref:"passwordConfirmInfo",staticClass:"help-block",attrs:{id:"passwordConfirmInfo"}})]),s("button",{class:"button "+e.submitButtonClass,attrs:{type:"submit",disabled:e.enableSubmit,"aria-disabled":e.submitButtonStatus},domProps:{textContent:e._s(e.showLanguage("rego","registerButton"))}}),s("br"),s("br"),s("button",{staticClass:"btn login-button",domProps:{textContent:e._s(e.showLanguage("rego","alreadyMember"))},on:{click:function(t){return e.loadLogin()}}})]),s("div",{staticClass:"col-sm-12 form-group"},[s("h3",{domProps:{textContent:e._s(e.showLanguage("rego","reqTitle"))}}),s("p",{staticClass:"text-info",domProps:{textContent:e._s(e.showLanguage("rego","reqInfo"))}}),s("div",{staticClass:"text-left"},[s("ul",{staticClass:"requirements"},[s("li",[s("span",{domProps:{textContent:e._s(e.showLanguage("rego","reqT1"))}}),s("a",{attrs:{href:"/#/policy"},domProps:{textContent:e._s(e.showLanguage("rego","reqT2"))}}),s("span",{domProps:{textContent:e._s(e.showLanguage("rego","reqT3"))}})]),s("li",[s("strong",{domProps:{textContent:e._s(e.showLanguage("rego","reqT4"))}}),s("span",{domProps:{textContent:e._s(e.showLanguage("rego","reqT5"))}}),s("br")]),s("li",[s("strong",{domProps:{textContent:e._s(e.showLanguage("rego","reqT6"))}}),s("span",{domProps:{textContent:e._s(e.showLanguage("rego","reqT7"))}})]),s("li",[s("strong",{domProps:{textContent:e._s(e.showLanguage("rego","reqT8"))}}),s("span",{domProps:{textContent:e._s(e.showLanguage("rego","reqT9"))}})]),s("li",[s("strong",{domProps:{textContent:e._s(e.showLanguage("rego","reqT10"))}}),s("span",{domProps:{textContent:e._s(e.showLanguage("rego","reqT11"))}})])])])]),s("div",{staticClass:"rego-footer"},[s("a",{staticClass:"learn-more-button",attrs:{href:"/#/about"},domProps:{textContent:e._s(e.showLanguage("nav","about"))},on:{click:function(t){return e.closeThisDialog()}}}),s("a",{staticClass:"learn-more-button",attrs:{href:"/#/terms"},domProps:{textContent:e._s(e.showLanguage("nav","terms"))},on:{click:function(t){return e.closeThisDialog()}}}),s("a",{staticClass:"learn-more-button",attrs:{href:"/#/privacy"},domProps:{textContent:e._s(e.showLanguage("nav","privacy"))},on:{click:function(t){return e.closeThisDialog()}}})])])])]):e._e()},x=[],$=(s("b0c0"),s("ac1f"),s("5319"),{data:function(){return{show:!1,verifiedName:null,verifiedEmail:null,verifiedPassword:null,credentials:{},formStatus:0}},computed:{submitButtonClass:function(){return 0===this.formStatus?"secondary":"success"},submitButtonStatus:function(){return 0===this.formStatus?"true":"false"},enableSubmit:function(){return!(1===this.formStatus)}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},closeDialogOutside:function(e){window.$(e.target).is("#login-modal")&&this.closeThisDialog()},loadLogin:function(){this.show=!1,u["a"].$emit("prompt-login")},countName:function(){var e=this.credentials.name||!1,t=e.length||0;(!e||t<5)&&(this.$jqf(this.$refs.nameInfo).remove("has-success").add("has-error").text("Name length = "+t+".  Min 5 characters required"),this.$jqf(this.$refs.name).replace(["has-success","has-error"])),t>=5&&(this.$jqf(this.$refs.nameInfo).remove("has-error").add("has-success").text("Name length validated"),this.$jqf(this.$refs.name).replace(["has-error","has-success"]))},verifyName:function(){var e=this.credentials.name||!1;!e||e.length<5?(this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("Please enter your name first!"),this.$jqf(this.$refs.email).replace(["has-success","has-error"]),this.$jqf(this.$refs.nameInfo).replace(["has-success","has-error"]).text("Name incomplete!"),this.$jqf(this.$refs.name).replace(["has-success","has-error"]).focus()):(this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("Please enter your email address"),this.$jqf(this.$refs.email).replace("has-success","has-error"),this.verifiedName=e)},checkEmail:function(){var e=this.credentials.email||!1,t=this;e.length>=7&&(-1===e.indexOf("@")||-1===e.indexOf(".")?(this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("Your email address appears invalid!"),this.$jqf(this.$refs.email).replace(["has-success","has-error"]).focus()):this.verifiedEmail===e?this.$refs.password.focus():(this.$store.dispatch("checkEmail",{email:e}),setTimeout((function(){t.checkEmailResult(e)}),500)))},checkEmailResult:function(e){var t=this.$store.getters.getEmailCheckStatus,s=!1,a=this;1===t&&a.checkEmailResult(),s=this.$store.getters.getEmailCheck,2===t&&!0===s.success&&(1===s.record.email.notFound&&1===s.record.email.valid?(this.$jqf(this.$refs.emailInfo).replace(["has-error","has-success"]).text("Email address verified"),this.$jqf(this.$refs.email).replace(["has-error","has-success"]),this.verifiedEmail=e):(0===s.record.email.notFound&&this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("Your email address was already used - please enter another!"),0===s.record.email.valid&&this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("The email address entered is invalid - please try again!"),this.$jqf(this.$refs.email).replace(["has-success","has-error"]))),3===t&&this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("Unable to verify your email address!")},verifyEmail:function(){var e=this.credentials.email||!1;e&&!1!==e?-1!==e.indexOf("@")&&-1!==e.indexOf(".")&&e===this.verifiedEmail||(this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("Your email address appears invalid!"),this.$jqf(this.$refs.email).replace(["has-success","has-error"]).focus()):(this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("Please enter your email address first!"),this.$jqf(this.$refs.email).replace(["has-success","has-error"]).focus())},countPassword:function(){var e=this.credentials.password||void 0;void 0!==e&&(e.length<8&&(this.$jqf(this.$refs.passwordInfo).replace(["has-success","has-error"]).text("Password length = "+e.length+".  Min 8 characters required"),this.$jqf(this.$refs.password).replace(["has-success","has-error"])),e.length>=8&&(this.$jqf(this.$refs.passwordInfo).replace(["has-error","has-success"]).text("Password length validated"),this.$jqf(this.$refs.password).replace(["has-error","has-success"])))},verifyPassword:function(){var e=this.credentials.password||!1;e.length<8&&(this.$jqf(this.$refs.passwordConfirmInfo).replace(["has-success","has-error"]).text("Please provide your password first"),this.$jqf(this.$refs.passwordConfirm).replace(["has-success","has-error"]).focus())},comparePassword:function(){var e=this.credentials.password||!1,t=this.credentials.matched||void 0;void 0!==t&&(t!==e&&(this.$jqf(this.$refs.passwordConfirmInfo).replace(["has-success","has-error"]).text("Password entries are not matched"),this.$jqf(this.$refs.passwordConfirm).replace(["has-success","has-error"])),t===e&&(this.$jqf(this.$refs.passwordConfirmInfo).replace(["has-error","has-success"]).text("Passwords match"),this.$jqf(this.$refs.passwordConfirm).replace(["has-error","has-success"]),this.verifiedPassword=e,this.formStatus=1))},closeThisDialog:function(){this.show=!1},registerUser:function(e){e.preventDefault(),this.$store.dispatch("registerUser",{data:this.credentials})},mounted:function(){var e=this;u["a"].$on("prompt-registration",(function(){e.show=!0}))}}}),P=$,D=(s("a1e2"),Object(g["a"])(P,y,x,!1,null,null,null)),N=D.exports,U=s("a18c"),k={components:{SuccessNotification:n["a"],ErrorNotification:r["a"],MessageNotification:i["a"],DeleteConfirmation:p,NoResultsFound:S,LoginModal:L["a"],LanguageModal:_["a"],SetupModal:N},methods:{getCountryFromCookie:function(){return this.$cookies.get("my-country")},getCountryFromStore:function(){return this.$store.getters.getCountryName}},mounted:function(){this.getCountryFromCookie!==this.getCountryFromStore&&this.$store.dispatch("setCountryNameFromCookie",this.$cookies.get("my-country"))},created:function(){this.$store.dispatch("getLocation"),this.$store.dispatch("setDefaultLanguage"),this.$http.interceptors.response.use(void 0,(function(e){console.error("layout.vue created: err: "+e);var t=e.toJSON();return new Promise((function(){if(e.status&&401===e.status&&e.config&&!e.config.__isRetryRequest)return this.$store.dispatch("logoutUser"),void U["a"].push({name:"public"});if("Network Error"===t.message)return console.log("found: Network Error"),this.$store.dispatch("setErrorData",{error:"Unable to connect to API"}),void U["a"].push({name:"public-about"});throw e}))}))}},A=k,E=(s("3be1"),Object(g["a"])(A,a,o,!1,null,null,null));t["default"]=E.exports},aa11:function(e,t,s){},aacb:function(e,t,s){},abac:function(e,t,s){},abe5:function(e,t,s){},ae1e:function(e,t,s){},b3a6:function(e,t,s){},b440:function(e,t,s){},c3e7:function(e,t,s){},c6fd:function(e,t,s){"use strict";s("3fd6")},c74d:function(e,t,s){"use strict";s("4605")},c898:function(e,t,s){},cce7:function(e,t,s){"use strict";s("7fed")},d053:function(e,t,s){},d920:function(e,t,s){},da24:function(e,t,s){},da7d:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"content-container text-center"},[s("div",{staticClass:"row justify-content-center grid-container"},[s("div",{staticClass:"column"},[s("div",{staticClass:"card"},[s("p",[e._v(" ")]),s("h2",{domProps:{textContent:e._s(e.showLanguage("setup","title"))}}),s("p",[s("strong",{domProps:{textContent:e._s(e.showLanguage("setup","p1"))}})]),s("p",{domProps:{textContent:e._s(e.showLanguage("setup","p2"))}}),s("p",[e._v(" ")])])])]),s("div",{staticClass:"row justify-content-center grid-container"},[s("div",{staticClass:"grid-x small-up-2 medium-up-3 large-up-4 "},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[s("p",[e._v(" ")]),s("h3",{domProps:{textContent:e._s(e.showLanguage("setup","formTitle"))}})]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"grid-x small-up-1 medium-up-2 large-up-3"},[s("div",{staticClass:"cell"}),s("div",{staticClass:"cell"},[s("form",{attrs:{id:"setup"},on:{submit:function(t){return e.checkForm(t)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"country"},domProps:{textContent:e._s(e.showLanguage("setup","country"))}}),s("div",{staticClass:"col-md-6"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.credentials.country,expression:"credentials.country"}],class:"form-control "+e.hasError("country"),attrs:{id:"country",required:"",autofocus:""},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.credentials,"country",t.target.multiple?s:s[0])},e.setCountryByCode]}},[s("option",{attrs:{value:""},domProps:{textContent:e._s(e.showLanguage("setup","countryOption"))}}),e._l(e.getCountries,(function(t){return s("option",{key:t.code,domProps:{value:t.code}},[e._v(e._s(t.name))])}))],2),e.errors.name?s("span",{ref:"name-info",staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.name))])]):e._e()])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"name"},domProps:{textContent:e._s(e.showLanguage("setup","name"))}}),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.name,expression:"credentials.name"}],class:"form-control "+e.hasError("name"),attrs:{id:"name",type:"text",placeholder:e.showLanguage("setup","namePlaceholder"),required:"",autocomplete:"name",minlength:"2",maxlength:"100",autofocus:""},domProps:{value:e.credentials.name},on:{input:function(t){t.target.composing||e.$set(e.credentials,"name",t.target.value)}}}),e.errors.name?s("span",{ref:"name-info",staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.name))])]):e._e()])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"},domProps:{textContent:e._s(e.showLanguage("setup","username"))}}),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.user,expression:"credentials.user"}],class:"form-control "+e.hasError("user"),attrs:{id:"user",type:"text",placeholder:e.showLanguage("setup","usernamePlaceholder"),required:"",minlength:"5",maxlength:"50",autocomplete:"user"},domProps:{value:e.credentials.user},on:{input:function(t){t.target.composing||e.$set(e.credentials,"user",t.target.value)}}}),e.errors.user?s("span",{ref:"user-info",staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.user))])]):e._e()])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"},domProps:{textContent:e._s(e.showLanguage("setup","password"))}}),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],class:"form-control "+e.hasError("password"),attrs:{id:"password",type:"password",placeholder:e.showLanguage("setup","passwordPlaceholder"),required:"",minlength:"8",maxlength:"100",autocomplete:"current-password"},domProps:{value:e.credentials.password},on:{input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}}),e.errors.password?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.password))])]):e._e()])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"},domProps:{textContent:e._s(e.showLanguage("setup","email"))}}),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.email,expression:"credentials.email"}],class:"form-control "+e.hasError("email"),attrs:{id:"email",type:"email",placeholder:e.showLanguage("setup","emailPlaceholder"),required:"",minlength:"5",maxlength:"256",autocomplete:"email"},domProps:{value:e.credentials.email},on:{input:function(t){t.target.composing||e.$set(e.credentials,"email",t.target.value)}}}),e.errors.email?s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[e._v(e._s(e.errors.email))])]):e._e()])]),s("div",{staticClass:"form-group row mb-0"},[s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{staticClass:"button",attrs:{type:"submit"},domProps:{textContent:e._s(e.showLanguage("setup","save"))}})]),s("div",[e.errorMessage?s("p",{staticClass:"is-invalid"},[e._v(e._s(e.errorMessage))]):e._e()])])])]),s("div",{staticClass:"cell"})])])])])])]):e._e()},o=[],n=(s("b0c0"),s("81f6")),r=s("a18c"),i={name:"Setup",data:function(){return{show:!1,verifiedName:null,verifiedEmail:null,verifiedPassword:null,credentials:{country:"",name:null,user:null,email:null,password:null,hasErrors:!1},errorMessage:null,formStatus:0,errors:{country:"",name:"",user:"",email:"",password:""}}},computed:{submitButtonClass:function(){return 0===this.formStatus?"secondary":"success"},submitButtonStatus:function(){return 0===this.formStatus?"true":"false"},enableSubmit:function(){return!(1===this.formStatus)},getCountries:function(){return this.$store.getters.getCountries}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},hasError:function(e){if(""!==this.errors[e])return"is-invalid"},setCountryByCode:function(){this.credentials.country&&this.$store.dispatch("setCountryByCode",this.credentials.country)},checkForm:function(e){e.preventDefault(),this.credentials.hasErrors=!1,this.credentials.name||(this.errors.name="Name required",this.credentials.hasErrors=!0),this.credentials.user||(this.errors.user="Username required",this.credentials.hasErrors=!0),this.credentials.password||(this.errors.password="Password required",this.credentials.hasErrors=!0),this.credentials.email?this.validEmail(this.credentials.email)||(this.errors.email="Valid email required",this.credentials.hasErrors=!0):(this.errors.email="Email required",this.credentials.hasErrors=!0),!1===this.credentials.hasErrors&&this.createUser()},validEmail:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},createUser:function(){console.log("sending: "+this.credentials),this.$store.dispatch("createControlUser",this.credentials),this.handleCreateUser()},handleCreateUser:function(){var e=this,t=this.$store.getters.getControlUserStatus;1===t&&setTimeout((function(){e.handleCreateUser()}),250),2===t&&(n["a"].$emit("show-success",{notification:"Control user created: please login using the credential you entered",timer:7500}),r["a"].push({name:"login"})),3===t&&(this.errorMessage=" Control user creation failed: please check your information and try again")},getSetup:function(){this.show=this.$store.getters.getSetup}},mounted:function(){this.getSetup()}},c=i,l=s("0c7c"),u=Object(l["a"])(c,a,o,!1,null,"09f18e92",null);t["default"]=u.exports},dae2:function(e,t,s){"use strict";s("c898")},db49:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a="",o="",n="";switch(console.log("production"),"production"){case"development":case"dev":case"local":a="//192.168.137.141:8443/api",o="//192.168.137.141:8443/",n="//192.168.137.141:8443";break;case"staging":a="//staging.nodemongoadmin.com:8080/api",o="//staging.nodemongoadmin.com/",n="//staging.nodemongoadmin.com:8080";break;case"demo":a="//demo.nodemongoadmin.com:8080/api",o="//demo.nodepmongoadmin.com/",n="//demo.nodemongoadmin.com:8080";break;case"production":a="/api",o="/",n="";break}var r={API_URL:a,WEB_URL:o,SERVER:n,SITE_NAME:"NodeMongoAdmin",SITE_FULLNAME:"Node Mongo Admin",LANGUAGES:{en:"English",zh:"Chinese"}}},dbed:function(e,t,s){},e0aa:function(e,t,s){},e293:function(e,t,s){},e383:function(e,t,s){"use strict";s("2d90")},e894:function(e,t,s){"use strict";s("d053")},eb09:function(e,t,s){"use strict";s("066a")},ed60:function(e,t,s){"use strict";s("b440")},f26d:function(e,t,s){"use strict";s("58f6")},f762:function(e,t,s){"use strict";s("630e")},f820:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page about-us"},[s("div",{staticClass:"grid-container"},[s("div",{staticClass:"grid-x grid-padding-x"},[s("div",{staticClass:"cell"},[s("admin-header")],1),e._m(0),s("div",{staticClass:"large-8 medium-8 small-12 cell text-justify"},[s("u",[s("h4",{domProps:{textContent:e._s(e.showLanguage("about","heading1"))}})]),s("p",[s("strong",{domProps:{textContent:e._s(e.showLanguage("global","definition"))}}),e._v(" "),s("span",{domProps:{innerHTML:e._s(e.showLanguage("about","definition1"))}})]),s("u",[s("h4",{domProps:{textContent:e._s(e.showLanguage("about","heading2"))}})]),s("p",[s("strong",{domProps:{textContent:e._s(e.showLanguage("global","definition"))}})]),s("p",[s("strong",[e._v("1")]),e._v(" "),s("span",{domProps:{innerHTML:e._s(e.showLanguage("about","definition2"))}})]),s("p",[s("strong",[e._v("2")]),e._v(" "),s("span",{domProps:{innerHTML:e._s(e.showLanguage("about","definition3"))}})]),s("p",[s("strong",[e._v("2")]),e._v(" "),s("span",{domProps:{innerHTML:e._s(e.showLanguage("about","definition4"))}})]),s("u",[s("h4",{domProps:{textContent:e._s(e.showLanguage("about","heading3"))}})]),s("p",{staticClass:"text-info",domProps:{innerHTML:e._s(e.showLanguage("about","intro"))}}),s("p",{staticClass:"text-info",domProps:{innerHTML:e._s(e.showLanguage("about","intro2"))}}),s("p",{staticClass:"paragraph",domProps:{textContent:e._s(e.showLanguage("about","p1"))}}),s("p",{staticClass:"paragraph",domProps:{textContent:e._s(e.showLanguage("about","p3"))}}),s("p",{staticClass:"paragraph",domProps:{textContent:e._s(e.showLanguage("about","p4"))}}),s("p",{staticClass:"paragraph",domProps:{textContent:e._s(e.showLanguage("about","p2"))}}),s("p",{staticClass:"paragraph",domProps:{textContent:e._s(e.showLanguage("about","p5"))}})]),s("div",{staticClass:"large-4 medium-4 hide-for-small-only right"},[s("p",[s("img",{staticClass:"img-responsive",attrs:{alt:e.showLanguage("about","aboutAlt"),src:"img/dashboard.jpg"}})])])])])])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"cell"},[s("p",[e._v(" ")])])}],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{directives:[{name:"show",rawName:"v-show",value:e.isLoggedIn,expression:"isLoggedIn"}],staticClass:"admin-navigation grid-container"},[s("div",{staticClass:"grid-x"},[s("div",{staticClass:"large-5 medium-5 small-6 cell text-left"},[s("ul",{staticClass:"links"},[s("li",[s("router-link",{attrs:{to:{name:"admin"}}},[s("span",{domProps:{textContent:e._s(e.showLanguage("nav","admin"))}})])],1),s("li",{directives:[{name:"show",rawName:"v-show",value:e.isMember,expression:"isMember"}],staticClass:"member-button"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!e.userLoadStatus,expression:"!userLoadStatus"}]},[s("a",{attrs:{href:"#"},on:{click:function(t){return e.loadLogin(t)}}},[s("button",{attrs:{title:e.showLanguage("title","loginTitle")},domProps:{textContent:e._s(e.showLanguage("nav","login"))}})])])])])]),s("div",{staticClass:"large-2 medium-2 hide-for-small-only cell text-center"},[s("span",{staticClass:"logo"},[s("img",{attrs:{alt:e.siteName,title:e.siteName,src:"/img/logo-nma.png"}})])]),s("div",{staticClass:"large-5 medium-5 small-6 cell",staticStyle:{position:"relative"}},[s("div",{staticClass:"right"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.hasCountryName,expression:"hasCountryName"}],staticClass:"country-flag ng-scope",on:{click:function(t){return e.openLanguageSelector()}}},[s("img",{attrs:{src:"/img/flags/icons/"+e.setCountryName+".ico",alt:"Your country is "+e.setCountryName,title:e.showLanguage("title","countryIsTitle")+" "+e.setCountryName}})])])])])])},r=[],i=s("db49"),c=s("81f6"),l={data:function(){return{countryName:null,isLoggedIn:!1,user:{}}},computed:{userLoadStatus:function(){return 2===this.$store.getters.getUserLoadStatus},siteName:function(){return i["a"].SITE_NAME},hasCountryName:function(){return null!=this.countryName},setCountryName:function(){return this.countryName},isMember:function(){var e=this.$cookies.get("app-member");return e&&1===e.length||this.userLoadStatus}},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)},openLanguageSelector:function(){c["a"].$emit("show-language-selector")},getCountryNameValue:function(){this.countryName=this.$store.getters.getCountryName},loadLogin:function(e){e.preventDefault(),c["a"].$emit("prompt-login")},userLoggedIn:function(){this.isLoggedIn=this.$store.getters.isLoggedIn},getUser:function(){this.user=this.$store.getters.getUser}},mounted:function(){this.getCountryNameValue(),this.userLoggedIn(),this.getUser()}},u=l,d=(s("5f92"),s("0c7c")),m=Object(d["a"])(u,n,r,!1,null,null,null),g=m.exports,h={components:{AdminHeader:g},methods:{showLanguage:function(e,t){return this.$store.getters.getLanguageString(e,t)}}},p=h,f=(s("f26d"),Object(d["a"])(p,a,o,!1,null,null,null));t["default"]=f.exports},fa34:function(e,t,s){"use strict";s("4bd0")},fbbc:function(e,t,s){},fd6b:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{id:"login-modal"},on:{click:function(t){return e.closeDialogOutside(t)}}},[s("div",{staticClass:"login-box",on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"login-label"},[s("h3",[s("span",{domProps:{textContent:e._s(e.showLanguage("login","title"))}}),s("img",{attrs:{title:"Close",alt:"Close",src:"/img/close-icon-white.svg"},on:{click:function(t){return e.closeThisDialog()}}})])]),s("div",{staticClass:"login-content"},[s("form",{ref:"loginForm",staticClass:"form-group",attrs:{id:"loginForm",name:"loginForm",action:"#",method:"post"},on:{submit:function(t){return e.loginUser(t)}}},[s("p",[e._v(" ")]),s("p",{ref:"loginError",staticClass:"login-error has-error hidden-content"}),s("p",[s("span",{staticClass:"fieldBlock"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"user"},domProps:{textContent:e._s(e.showLanguage("login","username"))}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.user,expression:"credentials.user"}],ref:"user",staticClass:"form-control",attrs:{id:"user",type:"text",name:"user",required:"",autocomplete:"user"},domProps:{value:e.credentials.user},on:{blur:function(t){return e.checkUser()},input:function(t){t.target.composing||e.$set(e.credentials,"user",t.target.value)}}})]),s("span",{ref:"userInfo",staticClass:"help-block",attrs:{id:"userInfo"}})]),s("p",[s("span",{staticClass:"fieldBlock"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"},domProps:{textContent:e._s(e.showLanguage("login","password"))}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],ref:"password",staticClass:"form-control",attrs:{id:"password",type:"password",name:"password",required:"",autocomplete:"current-password"},domProps:{value:e.credentials.password},on:{focus:e.verifyUser,keyup:e.countPassword,change:e.countPassword,input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}})]),s("span",{ref:"passwordInfo",staticClass:"help-block",attrs:{id:"passwordInfo"}})]),e.hasServers?s("p",[s("span",{staticClass:"intro-message"},[s("span",{staticClass:"has-info",attrs:{id:"introMessage"},domProps:{textContent:e._s(e.showLanguage("login","selectServer"))}})]),s("span",{staticClass:"fieldBlock"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"host"},domProps:{textContent:e._s(e.showLanguage("login","host"))}}),s("select",{directives:[{name:"model",rawName:"v-model",value:e.credentials.host,expression:"credentials.host"}],ref:"host",staticClass:"form-control",attrs:{id:"host",name:"host",required:"",autofocus:""},on:{blur:function(t){return e.checkHost()},change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.credentials,"host",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"localhost"},domProps:{textContent:e._s(e.showLanguage("login","localhost"))}})])]),s("span",{ref:"hostInfo",staticClass:"help-block",attrs:{id:"hostInfo"}})]):e._e(),e.hasDatabases?s("p",[s("span",{staticClass:"fieldBlock"},[s("label",{staticClass:"db-select-label col-md-4 col-form-label text-md-right",attrs:{for:"db"},domProps:{textContent:e._s(e.showLanguage("login","selectDatabase"))}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.db,expression:"credentials.db"}],ref:"db",staticClass:"form-control",attrs:{id:"db",type:"text",name:"db",autocomplete:"db"},domProps:{value:e.credentials.db},on:{blur:function(t){return e.checkDb()},input:function(t){t.target.composing||e.$set(e.credentials,"db",t.target.value)}}})]),s("span",{ref:"dbInfo",staticClass:"help-block",attrs:{id:"dbInfo"}})]):e._e(),s("p",[s("span",{staticClass:"col-md-6 offset-md-4"},[s("span",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.remember,expression:"credentials.remember"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"remember",id:"remember"},domProps:{checked:Array.isArray(e.credentials.remember)?e._i(e.credentials.remember,null)>-1:e.credentials.remember},on:{change:function(t){var s=e.credentials.remember,a=t.target,o=!!a.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);a.checked?r<0&&e.$set(e.credentials,"remember",s.concat([n])):r>-1&&e.$set(e.credentials,"remember",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.credentials,"remember",o)}}}),s("label",{staticClass:"form-check-label",attrs:{for:"remember"},domProps:{textContent:e._s(e.showLanguage("login","remember"))}})])])]),s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{class:"button "+e.submitButtonClass,attrs:{type:"submit",disabled:e.enableSubmit,"aria-disabled":e.submitButtonStatus},domProps:{textContent:e._s(e.showLanguage("login","button"))}}),s("button",{staticClass:"button warning",domProps:{textContent:e._s(e.showLanguage("global","close"))},on:{click:function(t){return e.closeThisDialog()}}}),s("br"),s("a",{staticClass:"btn btn-link",attrs:{href:"#"},domProps:{textContent:e._s(e.showLanguage("login","resetPassword"))},on:{click:function(t){return e.resetPassword()}}}),s("br"),s("a",{staticClass:"btn btn-link",attrs:{href:"#"},domProps:{textContent:e._s(e.showLanguage("login","forgetUsername"))},on:{click:function(t){return e.forgetUsername()}}}),s("p",{directives:[{name:"show",rawName:"v-show",value:e.cookieCleared,expression:"cookieCleared"}],domProps:{textContent:e._s(e.showLanguage("login","cookieCleared"))}})])])])])])},o=[],n=(s("ac1f"),s("5319"),s("81f6")),r=s("a18c"),i={data:function(){return{cookieCleared:!1,credentials:{active:"1"},errorData:null,formStatus:0,hasServers:null,hasDatabases:null,index:0,limit:55,show:!1,verifiedHost:null,verifiedUser:null,verifiedEmail:null,verifiedPassword:null,verifiedDb:null}},computed:{submitButtonClass:function(){return 0===this.formStatus?"secondary":"success"},submitButtonStatus:function(){return 0===this.formStatus?"true":"false"},enableSubmit:function(){return!(1===this.formStatus)}},methods:{showLanguage:function(e,t){return this.$jqf().nl2br(this.$store.getters.getLanguageString(e,t))},closeThisDialog:function(){this.show=!1},closeDialogOutside:function(e){window.jquery(e.target).is("#login-modal")&&this.closeThisDialog()},loginUser:function(e){var t=this;e.preventDefault(),this.$store.dispatch("loginUser",this.credentials),setTimeout((function(){t.completeLogin()}),500)},completeLogin:function(){var e=this,t=this.$store.getters.getUserLoginStatus;1===t&&this.index<this.limit&&setTimeout((function(){e.completeLogin()}),200),2===t&&(this.show=!1,n["a"].$emit("show-success",{notification:this.showLanguage("auth","login-success")}),setTimeout((function(){e.$cookies.set("nodemongo-member",e.$store.getters.getUserName,36e4),r["a"].push({name:"admin"}),e.show=!1}),2e3)),3===t&&this.showLoginError()},showLoginError:function(){var e=this;this.errorData=this.$store.getters.getUserErrorData;var t=this.errorData.data&&this.errorData.data.error?this.showLanguage("auth",this.errorData.data.error):this.showLanguage("auth","unknown");this.$jqf(this.$refs.loginError).remove("hidden-content").html(t),setTimeout((function(){e.$jqf(e.$refs.loginError).add("hidden-content")}),1e4)},resetPassword:function(){window.location="/setup"},forgotUsername:function(){console.log("lets get the username!!")},checkHost:function(){this.verifiedHost=!0},checkDb:function(){this.verifiedDb=!0},checkUser:function(){var e=this.credentials.user||!1;e.length>=5?(this.verifiedUser=e,this.$jqf(this.$refs.userInfo).replace(["has-error","has-success"]).text("Username verified"),this.$jqf(this.$refs.user).replace(["has-error","has-success"])):(this.$jqf(this.$refs.userInfo).replace(["has-success","has-error"]).text("Invalid username - minimum 5 characters!"),this.$jqf(this.$refs.user).replace(["has-success","has-error"]).focus())},checkEmail:function(){var e=this.credentials.email||!1;e.length>=5&&(-1===e.indexOf("@")||-1===e.indexOf(".")?(this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("Your email address appears invalid!"),this.$jqf(this.$refs.email).replace(["has-success","has-error"]).focus()):(this.verifiedEmail=e,this.$jqf(this.$refs.emailInfo).replace(["has-error","has-success"]).text("Email address verified"),this.$jqf(this.$refs.email).replace(["has-error","has-success"])))},verifyEmail:function(){var e=this.credentials.email||!1;e&&!1!==e?-1!==e.indexOf("@")&&-1!==e.indexOf(".")&&e===this.verifiedEmail||(this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("Your email address appears invalid!"),this.$jqf(this.$refs.email).replace(["has-success","has-error"]).focus()):(this.$jqf(this.$refs.emailInfo).replace(["has-success","has-error"]).text("Please enter your email address first!"),this.$jqf(this.$refs.email).replace(["has-success","has-error"]).focus())},verifyUser:function(){var e=this.credentials.user||!1;e&&!1!==e?(e.length<5||e!==this.verifiedUser)&&(this.$jqf(this.$refs.userInfo).replace(["has-success","has-error"]).text("Your username appears invalid!"),this.$jqf(this.$refs.user).replace(["has-success","has-error"]).focus()):(this.$jqf(this.$refs.userInfo).replace(["has-success","has-error"]).text("Please enter your username first!"),this.$jqf(this.$refs.user).replace(["has-success","has-error"]).focus())},countPassword:function(){var e=this.credentials.password||void 0;void 0!==e&&(e.length<8&&(this.$jqf(this.$refs.passwordInfo).replace(["has-success","has-error"]).text("Password length = "+e.length+".  Min 8 characters required"),this.$jqf(this.$refs.password).replace(["has-success","has-error"])),e.length>=8&&(this.$jqf(this.$refs.passwordInfo).replace(["has-error","has-success"]).text("Password length validated"),this.$jqf(this.$refs.password).replace(["has-error","has-success"]),this.verifiedPassword=!0,this.formStatus=1))},handleRememberMe:function(){this.cookieCleared=!1;var e=this.$cookies.get("nodemongo-member");e&&(this.credentials.user=e,this.checkUser())},forgetUsername:function(){this.$cookies.set("nodemongo-member","","-60"),this.cookieCleared=!0}},mounted:function(){var e=this;n["a"].$on("prompt-login",(function(){e.show=!0})),this.handleRememberMe()}},c=i,l=(s("c74d"),s("0c7c")),u=Object(l["a"])(c,a,o,!1,null,null,null);t["a"]=u.exports}});
//# sourceMappingURL=app.d1cb8689.js.map